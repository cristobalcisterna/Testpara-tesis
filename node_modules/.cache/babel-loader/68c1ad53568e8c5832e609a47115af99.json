{"ast":null,"code":"import axios from \"axios\";\nimport ContactModal from \"./ContactModal.vue\";\nexport default {\n  components: {\n    ContactModal: ContactModal\n  },\n  data: function data() {\n    return {\n      open: false,\n      isLoading: false,\n      cargoActivoSeleccionado: null,\n      showModal: false\n    };\n  },\n  created: function created() {\n    this.isLoading = true;\n    this.cargoActivoSeleccionado = this.cargoActivo;\n    this.isLoading = false;\n  },\n  props: ['userId', 'permisos', 'cargosActivos', 'cargoActivo'],\n  methods: {\n    isAuthorized: function isAuthorized(nombre) {\n      var objeto = this.permisos.find(function (obj) {\n        return obj.nombre === nombre;\n      });\n\n      if (objeto !== undefined) {\n        return objeto.value;\n      } else {\n        return false;\n      }\n    },\n    changeActiveProfile: function changeActiveProfile() {\n      var vm = this;\n      vm.isLoading = true;\n      axios.post(\"/users/\" + vm.userId + \"/change-profile\", {\n        active_profile: vm.cargoActivoSeleccionado\n      }).then(function (response) {\n        window.location.reload(false);\n        vm.isLoading = false;\n      })[\"catch\"](function (error) {\n        var elmnt = document.getElementById(\"app\");\n        elmnt.scrollIntoView();\n        vm.isLoading = false;\n      });\n    }\n  },\n  computed: {}\n};","map":{"version":3,"mappings":"AAsEA;AACA;AACA;EACAA;IACAC;EADA,CADA;EAIAC,IAJA,kBAIA;IACA;MACAC,WADA;MAEAC,gBAFA;MAGAC,6BAHA;MAIAC;IAJA;EAMA,CAXA;EAYAC,OAZA,qBAYA;IACA;IACA;IACA;EACA,CAhBA;EAiBAC,QACA,QADA,EACA,UADA,EACA,eADA,EACA,aADA,CAjBA;EAoBAC;IACAC,YADA,wBACAC,MADA,EACA;MACA;QAAA;MAAA;;MACA;QACA;MACA,CAFA,MAGA;QACA;MACA;IAEA,CAVA;IAYAC,mBAZA,iCAYA;MACA;MACAC;MACAC,MACAC,IADA,CACA,yCADA,EACA;QACAC;MADA,CADA,EAIAC,IAJA,CAIA;QACAC;QACAL;MACA,CAPA,WAQA;QACA;QACAM;QACAN;MACA,CAZA;IAaA;EA5BA,CApBA;EAmDAO;AAnDA","names":["components","ContactModal","data","open","isLoading","cargoActivoSeleccionado","showModal","created","props","methods","isAuthorized","nombre","changeActiveProfile","vm","axios","post","active_profile","then","window","elmnt","computed"],"sourceRoot":"app/javascript/components","sources":["PageSidebar.vue"],"sourcesContent":["<template>\n  <div>\n    <section>\n      <b-sidebar\n          type=\"is-light\"\n          :fullheight=true\n          v-model=\"open\"\n          id=\"sidebar-menu\"\n\n      >\n        <div class=\"p-1\">\n\n          <img style=\"height:8rem\" src=\"/logo_negro.png\">\n\n          <b-menu>\n            <b-menu-list label=\"Menu\">\n              <multiselect v-if=\"cargosActivos!=null && cargosActivos.length>1 && cargoActivoSeleccionado!=null\"\n                           v-model=\"cargoActivoSeleccionado\"\n                           :options=\"cargosActivos.map(type => type.id)\"\n                           :custom-label=\"opt => cargosActivos.find(x => x.id === opt).name\"\n                           @input=\"changeActiveProfile\"\n                           placeholder=\"Seleccione cargo\"\n                           selectLabel=\"Presione para seleccionar\"\n                           selectedLabel=\"Seleccionado\"\n                           deselectLabel=\"Seleccionado\"\n                           :allow-empty=\"false\">\n                <template v-slot:noOptions>\n                  No existen datos\n                </template>\n              </multiselect>\n              <b-menu-item  href=\"/\" icon=\"home\" label=\"Inicio\"></b-menu-item>\n                <b-menu-item  href=\"/goods\"  label=\"Bienes\"></b-menu-item>\n                <b-menu-item  href=\"/duty_managers\"  label=\"Personas asociadas\"></b-menu-item>\n                <b-menu-item  href=\"/offices\"  label=\"Dependencias\"></b-menu-item>\n                <b-menu-item  href=\"/buildings\"  label=\"Edificios\"></b-menu-item>\n                <b-menu-item  href=\"/units\"  label=\"Unidades\"></b-menu-item>\n                <b-menu-item  href=\"/condition_goods\"  label=\"Bienes dados de baja\"></b-menu-item>\n\n                \n            </b-menu-list>\n\n          </b-menu>\n        </div>\n        <footer class=\"footer\" id=\"sidebar-footer\">\n          <b-menu-list label=\"Ayuda\">\n              <b-menu-item  @click=\"showModal =  true\"\n                            icon=\"address-book\" label=\"Contacto\"></b-menu-item>\n          </b-menu-list>\n        </footer>\n      </b-sidebar>\n\n      <b-button class=\"is primary is-small\" @click=\"open = true\" icon-left=\"bars\"></b-button>\n      <b-loading :is-full-page=\"true\" v-model=\"isLoading\" :can-cancel=\"false\"></b-loading>\n      <b-modal\n          v-model=\"showModal\"\n          has-modal-card\n          trap-focus\n          :destroy-on-hide=\"true\"\n          aria-role=\"dialog\"\n          aria-modal>\n        <template #default=\"props\">\n          <contact-modal\n              @close=\"props.close\"\n             ></contact-modal>\n        </template>\n      </b-modal>\n    </section>\n  </div>\n</template>\n<script>\nimport axios from \"axios\";\nimport ContactModal from \"./ContactModal.vue\";\nexport default {\n  components:{\n    ContactModal,\n  },\n  data(){\n    return{\n      open: false,\n      isLoading: false,\n      cargoActivoSeleccionado:null,\n      showModal: false,\n    }\n  },\n  created(){\n    this.isLoading=true;\n    this.cargoActivoSeleccionado = this.cargoActivo\n    this.isLoading=false;\n  },\n  props:[\n      'userId','permisos','cargosActivos','cargoActivo',\n  ],\n  methods:{\n    isAuthorized(nombre){\n      var objeto = this.permisos.find(obj => obj.nombre === nombre)\n      if (objeto!==undefined){\n        return objeto.value;\n      }\n      else{\n        return false\n      }\n\n    },\n\n    changeActiveProfile(){\n      let vm = this;\n      vm.isLoading=true;\n      axios\n        .post(\"/users/\"+vm.userId+\"/change-profile\", {\n          active_profile: vm.cargoActivoSeleccionado\n        })\n        .then(response => {\n          window.location.reload(false);\n          vm.isLoading=false;\n        }).\n        catch(error => {\n          var elmnt = document.getElementById(\"app\");\n          elmnt.scrollIntoView();\n          vm.isLoading=false;\n        })\n    }\n\n  },\n  computed:{\n\n  }\n}\n</script>\n\n"]},"metadata":{},"sourceType":"module"}