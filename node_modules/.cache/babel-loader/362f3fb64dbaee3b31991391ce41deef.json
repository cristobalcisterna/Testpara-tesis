{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from \"axios\";\nexport default {\n  name: \"new_good_condition\",\n  props: ['queryType', 'modalHeader'],\n  data: function data() {\n    return {\n      selected: null,\n      goods: [],\n      offices: [],\n      units: [],\n      managers: [],\n      buildings: [],\n      aux_namegood: null,\n      aux_lost_date: new Date(),\n      aux_loss_detail: null,\n      aux_destruction_date: new Date(),\n      aux_destruction_detail: null,\n      aux_repairable: null,\n      aux_request_date: new Date(),\n      aux_request_status: null,\n      aux_income_reason: null,\n      aux_date_entry: new Date(),\n      aux_good_id: null,\n      aux_condition_id: null,\n      aux_activegood: 1\n    };\n  },\n  methods: {\n    getgoods: function getgoods() {\n      var _this = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return axios.get(\"http://localhost:3000/goods.json\");\n\n              case 2:\n                response = _context.sent;\n                _this.goods = response.data;\n                console.log(_this.goods);\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    },\n    getunit: function getunit() {\n      var _this2 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return axios.get(\"http://localhost:3000/units.json\");\n\n              case 2:\n                response = _context2.sent;\n                _this2.units = response.data;\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }))();\n    },\n    getdutymanagerbyunit: function getdutymanagerbyunit(item) {\n      var _this3 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return axios.get(\"http://localhost:3000/duty_managers/showdutymanagerunit/\" + item + \".json\");\n\n              case 2:\n                response = _context3.sent;\n                _this3.managers = response.data;\n                console.log(_this3.managers);\n\n              case 5:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }))();\n    },\n    getbuildingbyunit: function getbuildingbyunit(item) {\n      var _this4 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return axios.get(\"http://localhost:3000/buildings/showbuildingunit/\" + item + \".json\");\n\n              case 2:\n                response = _context4.sent;\n                _this4.buildings = response.data;\n                console.log(_this4.buildings);\n\n              case 5:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }))();\n    },\n    getofficebybuilding: function getofficebybuilding(item) {\n      var _this5 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return axios.get(\"http://localhost:3000/offices/showofficebuilding/\" + item + \".json\");\n\n              case 2:\n                response = _context5.sent;\n                _this5.offices = response.data;\n                console.log(_this5.offices);\n\n              case 5:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5);\n      }))();\n    },\n    reportLost: function reportLost() {\n      var _this6 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6() {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return axios.post(\"/condition_goods.json\", {\n                  lost_date: _this6.aux_lost_date,\n                  loss_detail: _this6.aux_loss_detail,\n                  good_id: _this6.aux_good_id,\n                  condition_id: 3\n                });\n\n              case 2:\n                response = _context6.sent;\n                window.location.href = \"/condition_goods\";\n\n              case 4:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6);\n      }))();\n    },\n    reportDestruction: function reportDestruction() {\n      var _this7 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7() {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                _context7.next = 2;\n                return axios.post(\"/condition_goods.json\", {\n                  destruction_date: _this7.aux_destruction_date,\n                  destruction_detail: _this7.aux_destruction_detail,\n                  repairable: _this7.aux_repairable,\n                  good_id: _this7.aux_good_id,\n                  condition_id: 4\n                });\n\n              case 2:\n                response = _context7.sent;\n                window.location.href = \"/condition_goods\";\n\n              case 4:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7);\n      }))();\n    },\n    reportExcluded: function reportExcluded() {\n      var _this8 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8() {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                _context8.next = 2;\n                return axios.post(\"/condition_goods.json\", {\n                  request_date: _this8.aux_request_date,\n                  request_status: _this8.aux_request_status,\n                  income_reason: _this8.aux_income_reason,\n                  date_entry: _this8.aux_date_entry,\n                  good_id: _this8.aux_good_id,\n                  condition_id: 2\n                });\n\n              case 2:\n                response = _context8.sent;\n                window.location.href = \"/condition_goods\";\n\n              case 4:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8);\n      }))();\n    },\n    confirmregister: function confirmregister() {\n      var _this9 = this;\n\n      this.$buefy.dialog.confirm({\n        title: \"Registrar el Bien\",\n        message: \"\\xBFEsta seguro de registrar est\\xE9 bien?\",\n        cancelText: \"Cancelar\",\n        confirmText: \"Registrar\",\n        type: \"is-info\",\n        onConfirm: function onConfirm() {\n          return _this9.createClick();\n        }\n      });\n    },\n    deleteDropFile: function deleteDropFile(index) {\n      this.dropFiles.splice(index, 1);\n    }\n  },\n  created: function created() {\n    this.getgoods();\n    this.getunit();\n  }\n};","map":{"version":3,"sources":["new_condition_good.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiTA,OAAA,KAAA,MAAA,OAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,oBADA;AAEA,EAAA,KAAA,EAAA,CACA,WADA,EACA,aADA,CAFA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,IADA;AAEA,MAAA,KAAA,EAAA,EAFA;AAGA,MAAA,OAAA,EAAA,EAHA;AAIA,MAAA,KAAA,EAAA,EAJA;AAKA,MAAA,QAAA,EAAA,EALA;AAMA,MAAA,SAAA,EAAA,EANA;AAQA,MAAA,YAAA,EAAA,IARA;AASA,MAAA,aAAA,EAAA,IAAA,IAAA,EATA;AAUA,MAAA,eAAA,EAAA,IAVA;AAYA,MAAA,oBAAA,EAAA,IAAA,IAAA,EAZA;AAaA,MAAA,sBAAA,EAAA,IAbA;AAcA,MAAA,cAAA,EAAA,IAdA;AAgBA,MAAA,gBAAA,EAAA,IAAA,IAAA,EAhBA;AAiBA,MAAA,kBAAA,EAAA,IAjBA;AAkBA,MAAA,iBAAA,EAAA,IAlBA;AAmBA,MAAA,cAAA,EAAA,IAAA,IAAA,EAnBA;AAqBA,MAAA,WAAA,EAAA,IArBA;AAsBA,MAAA,gBAAA,EAAA,IAtBA;AAwBA,MAAA,cAAA,EAAA;AAxBA,KAAA;AA0BA,GAhCA;AAiCA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,sBACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,KAAA,CAAA,GAAA,CAAA,kCAAA,CADA;;AAAA;AACA,gBAAA,QADA;AAEA,gBAAA,KAAA,CAAA,KAAA,GAAA,QAAA,CAAA,IAAA;AACA,gBAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA,KAAA;;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA,KALA;AAOA,IAAA,OAPA,qBAOA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,KAAA,CAAA,GAAA,CAAA,kCAAA,CADA;;AAAA;AACA,gBAAA,QADA;AAEA,gBAAA,MAAA,CAAA,KAAA,GAAA,QAAA,CAAA,IAAA;;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA,KAXA;AAaA,IAAA,oBAbA,gCAaA,IAbA,EAaA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,KAAA,CAAA,GAAA,CACA,6DACA,IADA,GAEA,OAHA,CADA;;AAAA;AACA,gBAAA,QADA;AAMA,gBAAA,MAAA,CAAA,QAAA,GAAA,QAAA,CAAA,IAAA;AACA,gBAAA,OAAA,CAAA,GAAA,CAAA,MAAA,CAAA,QAAA;;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA,KArBA;AAuBA,IAAA,iBAvBA,6BAuBA,IAvBA,EAuBA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,KAAA,CAAA,GAAA,CACA,sDAAA,IAAA,GAAA,OADA,CADA;;AAAA;AACA,gBAAA,QADA;AAIA,gBAAA,MAAA,CAAA,SAAA,GAAA,QAAA,CAAA,IAAA;AACA,gBAAA,OAAA,CAAA,GAAA,CAAA,MAAA,CAAA,SAAA;;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA,KA7BA;AA+BA,IAAA,mBA/BA,+BA+BA,IA/BA,EA+BA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,KAAA,CAAA,GAAA,CACA,sDAAA,IAAA,GAAA,OADA,CADA;;AAAA;AACA,gBAAA,QADA;AAIA,gBAAA,MAAA,CAAA,OAAA,GAAA,QAAA,CAAA,IAAA;AACA,gBAAA,OAAA,CAAA,GAAA,CAAA,MAAA,CAAA,OAAA;;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA,KArCA;AA2CA,IAAA,UA3CA,wBA2CA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,KAAA,CAAA,IAAA,CAAA,uBAAA,EAAA;AACA,kBAAA,SAAA,EAAA,MAAA,CAAA,aADA;AAEA,kBAAA,WAAA,EAAA,MAAA,CAAA,eAFA;AAGA,kBAAA,OAAA,EAAA,MAAA,CAAA,WAHA;AAIA,kBAAA,YAAA,EAAA;AAJA,iBAAA,CADA;;AAAA;AACA,gBAAA,QADA;AAOA,gBAAA,MAAA,CAAA,QAAA,CAAA,IAAA,GAAA,kBAAA;;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA,KAnDA;AAqDA,IAAA,iBArDA,+BAqDA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,KAAA,CAAA,IAAA,CAAA,uBAAA,EAAA;AACA,kBAAA,gBAAA,EAAA,MAAA,CAAA,oBADA;AAEA,kBAAA,kBAAA,EAAA,MAAA,CAAA,sBAFA;AAGA,kBAAA,UAAA,EAAA,MAAA,CAAA,cAHA;AAIA,kBAAA,OAAA,EAAA,MAAA,CAAA,WAJA;AAKA,kBAAA,YAAA,EAAA;AALA,iBAAA,CADA;;AAAA;AACA,gBAAA,QADA;AAQA,gBAAA,MAAA,CAAA,QAAA,CAAA,IAAA,GAAA,kBAAA;;AARA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA,KA9DA;AAgEA,IAAA,cAhEA,4BAgEA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,KAAA,CAAA,IAAA,CAAA,uBAAA,EAAA;AAEA,kBAAA,YAAA,EAAA,MAAA,CAAA,gBAFA;AAGA,kBAAA,cAAA,EAAA,MAAA,CAAA,kBAHA;AAIA,kBAAA,aAAA,EAAA,MAAA,CAAA,iBAJA;AAKA,kBAAA,UAAA,EAAA,MAAA,CAAA,cALA;AAMA,kBAAA,OAAA,EAAA,MAAA,CAAA,WANA;AAOA,kBAAA,YAAA,EAAA;AAPA,iBAAA,CADA;;AAAA;AACA,gBAAA,QADA;AAUA,gBAAA,MAAA,CAAA,QAAA,CAAA,IAAA,GAAA,kBAAA;;AAVA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA,KA3EA;AAmFA,IAAA,eAnFA,6BAmFA;AAAA;;AACA,WAAA,MAAA,CAAA,MAAA,CAAA,OAAA,CAAA;AACA,QAAA,KAAA,EAAA,mBADA;AAEA,QAAA,OAAA,8CAFA;AAGA,QAAA,UAAA,EAAA,UAHA;AAIA,QAAA,WAAA,EAAA,WAJA;AAKA,QAAA,IAAA,EAAA,SALA;AAMA,QAAA,SAAA,EAAA;AAAA,iBAAA,MAAA,CAAA,WAAA,EAAA;AAAA;AANA,OAAA;AAQA,KA5FA;AA6FA,IAAA,cA7FA,0BA6FA,KA7FA,EA6FA;AACA,WAAA,SAAA,CAAA,MAAA,CAAA,KAAA,EAAA,CAAA;AACA;AA/FA,GAjCA;AAkIA,EAAA,OAlIA,qBAkIA;AACA,SAAA,QAAA;AACA,SAAA,OAAA;AACA;AArIA,CAAA","sourcesContent":["  <template>\n  <section> \n\n    <div class=\"box\">\n      <b-tabs>\n        <div class=\"columns is-centered\">\n          <div class=\"column is-centered\">\n             <b-steps type=\"is-info\">\n\n\n\n\n\n\n\n\n\n                <b-step-item step=\"1\" label=\"Reportar bien para enviar a la bodega de excluidos\" :clickable=\"true\">\n            <div class=\"columns\">\n\n                              <div class=\"column\">\n                <b-field label=\"Bienes\">\n                  <multiselect\n                    v-model=\"aux_good_id\"\n                    :options=\"goods.map((type) => type.id)\"\n                    :custom-label=\"\n                      (opt) =>\n                        goods.find((x) => x.id === opt).namegood\n                    \"\n                    placeholder=\"Seleccionar Bien\"\n                    selectLabel=\"Presione para seleccionar\"\n                    selectedLabel=\"Seleccionado\"\n                    deselectLabel=\"Presione para deseleccionar\"\n                    :allow-empty=\"true\"\n                  >\n                  </multiselect>\n                </b-field>\n              </div>\n\n\n            </div>\n           \n            <div class=\"columns\">\n\n              <div class=\"column\">\n                <b-field label=\"Fecha de solicitud\">\n                  <b-datepicker\n                    v-model=\"aux_request_date\"\n                    locale=\"es-ES\"\n                    placeholder=\"Seleccionar fecha de solicitud\"\n                    trap-focus\n                  >\n                  </b-datepicker>\n                </b-field>\n              </div>\n\n                            <div class=\"column\">\n                <b-field label=\"Fecha de ingreso\">\n                  <b-datepicker\n                    v-model=\"aux_date_entry\"\n                    locale=\"es-ES\"\n                    placeholder=\"Seleccionar fecha de ingreso\"\n                    trap-focus\n                  >\n                  </b-datepicker>\n                </b-field>\n              </div>\n            </div>\n\n\n                                              <div class=\"columns\">\n              <div class=\"column\">\n                <b-field label=\"Estado de solicitud\">\n                   <b-numberinput\n                    min=\"0\"\n                    max=\"1\"\n                    v-model=\"aux_request_status\"\n                    type=\"is-info\"\n                    placeholder=\"Ingrese estado solicitud\"\n                  >\n                  </b-numberinput>\n                </b-field>\n              </div>\n                                  </div>\n\n\n                         <div class=\"columns\">\n              \n              <div class=\"column\">\n                <b-field label=\"Motivo de ingreso\">\n                  <b-input\n                    v-model=\"aux_income_reason\"\n                    placeholder=\"Ingrese detalles del motivo de ingreso\"\n                    type=\"textarea\"\n                  ></b-input>\n                </b-field>\n              </div>\n            </div>\n\n\n            <b-field grouped position=\"is-right\">\n              <p class=\"control\">\n                <b-button\n                  label=\"Agregar Bien\"\n                  type=\"is-info\"\n                  @click=\"reportExcluded()\"\n                />\n              </p>\n            </b-field>\n            </b-step-item>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n             <b-step-item step=\"2\" label=\"Reportar bien Perdido\" :clickable=\"true\">\n\n             <div class=\"columns\">\n\n                 <div class=\"column\">\n                <b-field label=\"Bienes\">\n                  <multiselect\n                    v-model=\"aux_good_id\"\n                    :options=\"goods.map((type) => type.id)\"\n                    :custom-label=\"\n                      (opt) =>\n                        goods.find((x) => x.id === opt).namegood\n                    \"\n                    placeholder=\"Seleccionar Bien\"\n                    selectLabel=\"Presione para seleccionar\"\n                    selectedLabel=\"Seleccionado\"\n                    deselectLabel=\"Presione para deseleccionar\"\n                    :allow-empty=\"true\"\n                  >\n                  </multiselect>\n                </b-field>\n              </div>\n              \n\n\n\n\n            </div>\n\n                        <div class=\"columns\">\n\n              <div class=\"column\">\n                <b-field label=\"Fecha de perdida\">\n                  <b-datepicker\n                    v-model=\"aux_lost_date\"\n                    locale=\"es-ES\"\n                    placeholder=\"Seleccionar fecha de perdida\"\n                    trap-focus\n                  >\n                  </b-datepicker>\n                </b-field>\n              </div>\n            </div>\n\n\n             <div class=\"columns\">\n              \n              <div class=\"column\">\n                <b-field label=\"Descripción de perdida\">\n                  <b-input\n                    v-model=\"aux_loss_detail\"\n                    placeholder=\"Ingrese detalles de la perdida del bien\"\n                    type=\"textarea\"\n                  ></b-input>\n                </b-field>\n              </div>\n            </div>\n\n                        <b-field grouped position=\"is-right\">\n              <p class=\"control\">\n                <b-button\n                  label=\"Reportar pérdida\"\n                  type=\"is-info\"\n                  @click=\"reportLost()\"\n                />\n              </p>\n            </b-field>\n \n             </b-step-item>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n            <b-step-item step=\"3\" label=\"Reportar bien Destruido\" :clickable=\"true\">\n\n                         <div class=\"columns\">\n\n                             <div class=\"column\">\n                <b-field label=\"Bienes\">\n                  <multiselect\n                    v-model=\"aux_good_id\"\n                    :options=\"goods.map((type) => type.id)\"\n                    :custom-label=\"\n                      (opt) =>\n                        goods.find((x) => x.id === opt).namegood\n                    \"\n                    placeholder=\"Seleccionar Bien\"\n                    selectLabel=\"Presione para seleccionar\"\n                    selectedLabel=\"Seleccionado\"\n                    deselectLabel=\"Presione para deseleccionar\"\n                    :allow-empty=\"true\"\n                  >\n                  </multiselect>\n                </b-field>\n              </div>\n              \n\n            </div>\n\n            <div class=\"columns\">\n\n              <div class=\"column\">\n                <b-field label=\"Fecha de destrcción\">\n                  <b-datepicker\n                    v-model=\"aux_destruction_date\"\n                    locale=\"es-ES\"\n                    placeholder=\"Seleccionar fecha de destrcción\"\n                    trap-focus\n                  >\n                  </b-datepicker>\n                </b-field>\n              </div>\n            </div>\n\n\n             <div class=\"columns\">\n              \n              <div class=\"column\">\n                <b-field label=\"Descripción\">\n                  <b-input\n                    v-model=\"aux_destruction_detail\"\n                    placeholder=\"Ingrese una descripción del bien o el nombre\"\n                    type=\"textarea\"\n                  ></b-input>\n                </b-field>\n              </div>\n            </div>\n\n                                  <div class=\"columns\">\n              <div class=\"column\">\n                <b-field label=\"Reparable\">\n                   <b-numberinput\n                    min=\"0\"\n                    max=\"1\"\n                    v-model=\"aux_repairable\"\n                    type=\"is-info\"\n                    placeholder=\"Ingrese si puede ser reparado o no\"\n                  >\n                  </b-numberinput>\n                </b-field>\n              </div>\n                                  </div>\n\n                       <b-field grouped position=\"is-right\">\n              <p class=\"control\">\n                <b-button\n                  label=\"Reportar bien destruido\"\n                  type=\"is-info\"\n                  @click=\"reportDestruction()\"\n                />\n              </p>\n            </b-field>\n \n             </b-step-item>\n            </b-steps>\n          </div>\n        </div>\n      </b-tabs>\n    </div>\n    </section>\n</template>\n\n<script>\nimport axios from \"axios\";\nexport default {\n  name:\"new_good_condition\",\n  props:[\n    'queryType', 'modalHeader'\n  ],\n  data() {\n    return {\n      selected: null,\n      goods: [],\n      offices: [],\n      units: [],\n      managers: [],\n      buildings: [],\n\n      aux_namegood: null,\n      aux_lost_date:  new Date(),\n      aux_loss_detail: null,\n\n      aux_destruction_date: new Date(),\n      aux_destruction_detail: null,\n      aux_repairable: null,\n\n      aux_request_date: new Date(),\n      aux_request_status: null,\n      aux_income_reason: null,\n      aux_date_entry: new Date(),\n      \n      aux_good_id: null,\n      aux_condition_id: null,\n\n      aux_activegood: 1,\n    };\n  },\n  methods: {\n    async getgoods() {\n      const response = await axios.get(\"http://localhost:3000/goods.json\");\n      this.goods = response.data;\n      console.log(this.goods);\n    },\n\n    async getunit() {\n      const response = await axios.get(\"http://localhost:3000/units.json\");\n      this.units = response.data;\n      \n    },\n\n    async getdutymanagerbyunit(item) {\n      const response = await axios.get(\n        \"http://localhost:3000/duty_managers/showdutymanagerunit/\" +\n          item +\n          \".json\"\n      );\n      this.managers = response.data;\n      console.log(this.managers);\n    },\n\n    async getbuildingbyunit(item) {\n      const response = await axios.get(\n        \"http://localhost:3000/buildings/showbuildingunit/\" + item + \".json\"\n      );\n      this.buildings = response.data;\n      console.log(this.buildings);\n    },\n\n    async getofficebybuilding(item) {\n      const response = await axios.get(\n        \"http://localhost:3000/offices/showofficebuilding/\" + item + \".json\"\n      );\n      this.offices = response.data;\n      console.log(this.offices);\n    },\n\n\n\n\n\n    async reportLost() {\n      const response = await axios.post(\"/condition_goods.json\", {\n        lost_date:this.aux_lost_date,\n        loss_detail:this.aux_loss_detail,\n        good_id: this.aux_good_id,\n        condition_id: 3,\n      });\n      window.location.href = \"/condition_goods\";\n    },\n\n        async reportDestruction() {\n      const response = await axios.post(\"/condition_goods.json\", {\n        destruction_date:this.aux_destruction_date,\n        destruction_detail:this.aux_destruction_detail,\n        repairable:this.aux_repairable,\n        good_id: this.aux_good_id,\n        condition_id: 4,\n      });\n      window.location.href = \"/condition_goods\";\n    },\n\n        async reportExcluded() {\n      const response = await axios.post(\"/condition_goods.json\", {\n\n        request_date:this.aux_request_date,\n        request_status:this.aux_request_status,\n        income_reason: this.aux_income_reason,\n        date_entry: this.aux_date_entry,\n        good_id: this.aux_good_id,\n        condition_id: 2,\n      });\n      window.location.href = \"/condition_goods\";\n    },\n\n\n\n\n\n\n\n    confirmregister() {\n      this.$buefy.dialog.confirm({\n        title: \"Registrar el Bien\",\n        message: `¿Esta seguro de registrar esté bien?`,\n        cancelText: \"Cancelar\",\n        confirmText: \"Registrar\",\n        type: \"is-info\",\n        onConfirm: () => this.createClick(),\n      });\n    },\n    deleteDropFile(index) {\n                this.dropFiles.splice(index, 1)\n            },\n  },\n  created() {\n    this.getgoods();\n    this.getunit();\n  },\n};\n</script>"],"sourceRoot":"app/javascript/components/condition_good"},"metadata":{},"sourceType":"module"}