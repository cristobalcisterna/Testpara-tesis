{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from \"axios\";\nimport ContactModal from \"./ContactModal.vue\";\nexport default {\n  components: {\n    ContactModal: ContactModal\n  },\n  data: function data() {\n    return {\n      open: false,\n      isLoading: false,\n      cargoActivoSeleccionado: null,\n      showModal: false\n    };\n  },\n  created: function created() {\n    this.isLoading = true;\n    this.cargoActivoSeleccionado = this.cargoActivo;\n    this.isLoading = false;\n  },\n  props: ['userId', 'permisos', 'cargosActivos', 'cargoActivo'],\n  methods: {\n    isAuthorized: function isAuthorized(nombre) {\n      var objeto = this.permisos.find(function (obj) {\n        return obj.nombre === nombre;\n      });\n\n      if (objeto !== undefined) {\n        return objeto.value;\n      } else {\n        return false;\n      }\n    },\n    changeActiveProfile: function changeActiveProfile() {\n      var vm = this;\n      vm.isLoading = true;\n      axios.post(\"/users/\" + vm.userId + \"/change-profile\", {\n        active_profile: vm.cargoActivoSeleccionado\n      }).then(function (response) {\n        window.location.reload(false);\n        vm.isLoading = false;\n      })[\"catch\"](function (error) {\n        var elmnt = document.getElementById(\"app\");\n        elmnt.scrollIntoView();\n        vm.isLoading = false;\n      });\n    }\n  },\n  computed: {}\n};","map":{"version":3,"sources":["PageSidebar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA,OAAA,KAAA,MAAA,OAAA;AACA,OAAA,YAAA,MAAA,oBAAA;AACA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,YAAA,EAAA;AADA,GADA;AAIA,EAAA,IAJA,kBAIA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA,MAAA,SAAA,EAAA,KAFA;AAGA,MAAA,uBAAA,EAAA,IAHA;AAIA,MAAA,SAAA,EAAA;AAJA,KAAA;AAMA,GAXA;AAYA,EAAA,OAZA,qBAYA;AACA,SAAA,SAAA,GAAA,IAAA;AACA,SAAA,uBAAA,GAAA,KAAA,WAAA;AACA,SAAA,SAAA,GAAA,KAAA;AACA,GAhBA;AAiBA,EAAA,KAAA,EAAA,CACA,QADA,EACA,UADA,EACA,eADA,EACA,aADA,CAjBA;AAoBA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,wBACA,MADA,EACA;AACA,UAAA,MAAA,GAAA,KAAA,QAAA,CAAA,IAAA,CAAA,UAAA,GAAA;AAAA,eAAA,GAAA,CAAA,MAAA,KAAA,MAAA;AAAA,OAAA,CAAA;;AACA,UAAA,MAAA,KAAA,SAAA,EAAA;AACA,eAAA,MAAA,CAAA,KAAA;AACA,OAFA,MAGA;AACA,eAAA,KAAA;AACA;AAEA,KAVA;AAYA,IAAA,mBAZA,iCAYA;AACA,UAAA,EAAA,GAAA,IAAA;AACA,MAAA,EAAA,CAAA,SAAA,GAAA,IAAA;AACA,MAAA,KAAA,CACA,IADA,CACA,YAAA,EAAA,CAAA,MAAA,GAAA,iBADA,EACA;AACA,QAAA,cAAA,EAAA,EAAA,CAAA;AADA,OADA,EAIA,IAJA,CAIA,UAAA,QAAA,EAAA;AACA,QAAA,MAAA,CAAA,QAAA,CAAA,MAAA,CAAA,KAAA;AACA,QAAA,EAAA,CAAA,SAAA,GAAA,KAAA;AACA,OAPA,WAQA,UAAA,KAAA,EAAA;AACA,YAAA,KAAA,GAAA,QAAA,CAAA,cAAA,CAAA,KAAA,CAAA;AACA,QAAA,KAAA,CAAA,cAAA;AACA,QAAA,EAAA,CAAA,SAAA,GAAA,KAAA;AACA,OAZA;AAaA;AA5BA,GApBA;AAmDA,EAAA,QAAA,EAAA;AAnDA,CAAA","sourcesContent":["<template>\n  <div>\n    <section>\n      <b-sidebar\n          type=\"is-light\"\n          :fullheight=true\n          v-model=\"open\"\n          id=\"sidebar-menu\"\n\n      >\n        <div class=\"p-1\">\n\n          <img style=\"height:8rem\" src=\"/logo_negro.png\">\n\n          <b-menu>\n            <b-menu-list label=\"Menu\">\n              <multiselect v-if=\"cargosActivos!=null && cargosActivos.length>1 && cargoActivoSeleccionado!=null\"\n                           v-model=\"cargoActivoSeleccionado\"\n                           :options=\"cargosActivos.map(type => type.id)\"\n                           :custom-label=\"opt => cargosActivos.find(x => x.id === opt).name\"\n                           @input=\"changeActiveProfile\"\n                           placeholder=\"Seleccione cargo\"\n                           selectLabel=\"Presione para seleccionar\"\n                           selectedLabel=\"Seleccionado\"\n                           deselectLabel=\"Seleccionado\"\n                           :allow-empty=\"false\">\n                <template v-slot:noOptions>\n                  No existen datos\n                </template>\n              </multiselect>\n              <b-menu-item  href=\"/\" icon=\"home\" label=\"Inicio\"></b-menu-item>\n\n            </b-menu-list>\n\n          </b-menu>\n        </div>\n        <footer class=\"footer\" id=\"sidebar-footer\">\n          <b-menu-list label=\"Ayuda\">\n              <b-menu-item  @click=\"showModal =  true\"\n                            icon=\"address-book\" label=\"Contacto\"></b-menu-item>\n          </b-menu-list>\n        </footer>\n      </b-sidebar>\n\n      <b-button class=\"is primary is-small\" @click=\"open = true\" icon-left=\"bars\"></b-button>\n      <b-loading :is-full-page=\"true\" v-model=\"isLoading\" :can-cancel=\"false\"></b-loading>\n      <b-modal\n          v-model=\"showModal\"\n          has-modal-card\n          trap-focus\n          :destroy-on-hide=\"true\"\n          aria-role=\"dialog\"\n          aria-modal>\n        <template #default=\"props\">\n          <contact-modal\n              @close=\"props.close\"\n             ></contact-modal>\n        </template>\n      </b-modal>\n    </section>\n  </div>\n</template>\n<script>\nimport axios from \"axios\";\nimport ContactModal from \"./ContactModal.vue\";\nexport default {\n  components:{\n    ContactModal,\n  },\n  data(){\n    return{\n      open: false,\n      isLoading: false,\n      cargoActivoSeleccionado:null,\n      showModal: false,\n    }\n  },\n  created(){\n    this.isLoading=true;\n    this.cargoActivoSeleccionado = this.cargoActivo\n    this.isLoading=false;\n  },\n  props:[\n      'userId','permisos','cargosActivos','cargoActivo',\n  ],\n  methods:{\n    isAuthorized(nombre){\n      var objeto = this.permisos.find(obj => obj.nombre === nombre)\n      if (objeto!==undefined){\n        return objeto.value;\n      }\n      else{\n        return false\n      }\n\n    },\n\n    changeActiveProfile(){\n      let vm = this;\n      vm.isLoading=true;\n      axios\n        .post(\"/users/\"+vm.userId+\"/change-profile\", {\n          active_profile: vm.cargoActivoSeleccionado\n        })\n        .then(response => {\n          window.location.reload(false);\n          vm.isLoading=false;\n        }).\n        catch(error => {\n          var elmnt = document.getElementById(\"app\");\n          elmnt.scrollIntoView();\n          vm.isLoading=false;\n        })\n    }\n\n  },\n  computed:{\n\n  }\n}\n</script>\n\n"],"sourceRoot":"app/javascript/components"},"metadata":{},"sourceType":"module"}