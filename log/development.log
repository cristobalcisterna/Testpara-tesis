Started GET "/users" for ::1 at 2022-11-08 17:27:40 -0300
Processing by UsersController#index as HTML
  [1m[36mtables (389.7ms)[0m  [1m[34mSELECT /*+ OPTIMIZER_FEATURES_ENABLE('11.2.0.2') */ DECODE(table_name, UPPER(table_name), LOWER(table_name), table_name) FROM all_tables WHERE owner = SYS_CONTEXT('userenv', 'current_schema') AND secondary = 'N' minus SELECT DECODE(mview_name, UPPER(mview_name), LOWER(mview_name), mview_name) FROM all_mviews WHERE owner = SYS_CONTEXT('userenv', 'current_schema')[0m
  [1m[36mviews (2.1ms)[0m  [1m[34mSELECT /*+ OPTIMIZER_FEATURES_ENABLE('11.2.0.2') */ LOWER(view_name) FROM all_views WHERE owner = SYS_CONTEXT('userenv', 'current_schema')[0m
  [1m[36msynonyms (635.6ms)[0m  [1m[34mSELECT synonym_name, table_owner, table_name FROM all_synonyms where owner = SYS_CONTEXT('userenv', 'current_schema')[0m
  [1m[36mSequence (1.7ms)[0m  [1m[34mselect /*+ OPTIMIZER_FEATURES_ENABLE('11.2.0.2') */ us.sequence_name from all_sequences us where us.sequence_owner = 'ADMIN1' and us.sequence_name = upper('USERS_seq')[0m
  [1m[36mPrimary Key (8.4ms)[0m  [1m[34mSELECT /*+ OPTIMIZER_FEATURES_ENABLE('11.2.0.2') */ cc.column_name FROM all_constraints c, all_cons_columns cc WHERE c.owner = 'ADMIN1' AND c.table_name = 'USERS' AND c.constraint_type = 'P' AND cc.owner = c.owner AND cc.constraint_name = c.constraint_name[0m
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT * FROM (SELECT "USERS".* FROM "USERS" WHERE "USERS"."ID" = :a1 ORDER BY "USERS"."ID" ASC ) WHERE ROWNUM <= :a2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSequence (2.5ms)[0m  [1m[34mselect /*+ OPTIMIZER_FEATURES_ENABLE('11.2.0.2') */ us.sequence_name from all_sequences us where us.sequence_owner = 'ADMIN1' and us.sequence_name = upper('INTERNAL_POSITIONS_seq')[0m
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mPrimary Key (6.7ms)[0m  [1m[34mSELECT /*+ OPTIMIZER_FEATURES_ENABLE('11.2.0.2') */ cc.column_name FROM all_constraints c, all_cons_columns cc WHERE c.owner = 'ADMIN1' AND c.table_name = 'INTERNAL_POSITIONS' AND c.constraint_type = 'P' AND cc.owner = c.owner AND cc.constraint_name = c.constraint_name[0m
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPosition Load (1.9ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPosition Load (1.8ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."NAME" = :a1 AND ROWNUM <= :a2 [0m  [["name", "SUPERADMIN"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:13:in `authorize_action'
  [1m[36mSequence (0.9ms)[0m  [1m[34mselect /*+ OPTIMIZER_FEATURES_ENABLE('11.2.0.2') */ us.sequence_name from all_sequences us where us.sequence_owner = 'ADMIN1' and us.sequence_name = upper('PERMISSIONS_seq')[0m
  â†³ app/models/user.rb:100:in `has_permission?'
  [1m[36mPrimary Key (4.2ms)[0m  [1m[34mSELECT /*+ OPTIMIZER_FEATURES_ENABLE('11.2.0.2') */ cc.column_name FROM all_constraints c, all_cons_columns cc WHERE c.owner = 'ADMIN1' AND c.table_name = 'PERMISSIONS' AND c.constraint_type = 'P' AND cc.owner = c.owner AND cc.constraint_name = c.constraint_name[0m
  â†³ app/models/user.rb:100:in `has_permission?'
  [1m[36mPermission Load (3.2ms)[0m  [1m[34mSELECT * FROM (SELECT "PERMISSIONS".* FROM "PERMISSIONS" WHERE "PERMISSIONS"."SUBJECT_CLASS" = :a1 AND "PERMISSIONS"."ACTION" = :a2 ORDER BY "PERMISSIONS"."ID" ASC ) WHERE ROWNUM <= :a3[0m  [["subject_class", "User"], ["action", "index"], ["LIMIT", 1]]
  â†³ app/models/user.rb:100:in `has_permission?'
  [1m[36mPermission Load (2.4ms)[0m  [1m[34mSELECT * FROM (SELECT "PERMISSIONS".* FROM "PERMISSIONS" WHERE "PERMISSIONS"."SUBJECT_CLASS" = :a1 AND "PERMISSIONS"."ACTION" = :a2 ORDER BY "PERMISSIONS"."ID" ASC ) WHERE ROWNUM <= :a3[0m  [["subject_class", "User"], ["action", "manage"], ["LIMIT", 1]]
  â†³ app/models/user.rb:101:in `has_permission?'
  [1m[36mPermission Load (2.2ms)[0m  [1m[34mSELECT * FROM (SELECT "PERMISSIONS".* FROM "PERMISSIONS" WHERE "PERMISSIONS"."SUBJECT_CLASS" = :a1 AND "PERMISSIONS"."ACTION" = :a2 ORDER BY "PERMISSIONS"."ID" ASC ) WHERE ROWNUM <= :a3[0m  [["subject_class", "all"], ["action", "manage"], ["LIMIT", 1]]
  â†³ app/models/user.rb:102:in `has_permission?'
  [1m[36mCACHE InternalPosition Load (0.1ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPositionPermission Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "INTERNAL_POSITION_PERMISSIONS" WHERE "INTERNAL_POSITION_PERMISSIONS"."INTERNAL_POSITION_ID" = :a1 AND "INTERNAL_POSITION_PERMISSIONS"."PERMISSION_ID" = :a2 AND "INTERNAL_POSITION_PERMISSIONS"."UNIT_ID" IS NULL AND ROWNUM <= :a3 [0m  [["internal_position_id", 1], ["permission_id", 117], ["LIMIT", 1]]
  â†³ app/models/internal_position.rb:8:in `has_permission?'
  [1m[36mCACHE InternalPosition Load (0.1ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPositionPermission Exists? (2.3ms)[0m  [1m[34mSELECT 1 AS one FROM "INTERNAL_POSITION_PERMISSIONS" WHERE "INTERNAL_POSITION_PERMISSIONS"."INTERNAL_POSITION_ID" = :a1 AND "INTERNAL_POSITION_PERMISSIONS"."PERMISSION_ID" = :a2 AND "INTERNAL_POSITION_PERMISSIONS"."UNIT_ID" IS NULL AND ROWNUM <= :a3 [0m  [["internal_position_id", 1], ["permission_id", 122], ["LIMIT", 1]]
  â†³ app/models/internal_position.rb:8:in `has_permission?'
  [1m[36mCACHE InternalPosition Load (0.0ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPositionPermission Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "INTERNAL_POSITION_PERMISSIONS" WHERE "INTERNAL_POSITION_PERMISSIONS"."INTERNAL_POSITION_ID" = :a1 AND "INTERNAL_POSITION_PERMISSIONS"."PERMISSION_ID" = :a2 AND "INTERNAL_POSITION_PERMISSIONS"."UNIT_ID" IS NULL AND ROWNUM <= :a3 [0m  [["internal_position_id", 1], ["permission_id", 1], ["LIMIT", 1]]
  â†³ app/models/internal_position.rb:8:in `has_permission?'
  Rendering users/index.html.erb within layouts/application
  Rendered users/index.html.erb within layouts/application (Duration: 0.3ms | Allocations: 4)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/cristobal/Escritorio/Sistema-de-Gestion-de-Inventario/public/packs
[Webpacker] Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-property-in-object since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-property-in-object", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-private-property-in-object.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.

[Webpacker] Hash: 7704d5a0dc823802715b
Version: webpack 4.46.0
Time: 52836ms
Built at: 08-11-2022 17:28:41
                                     Asset        Size       Chunks                         Chunk Names
        js/app_vue-d7a1f5b8b20f7aea414e.js    7.79 MiB      app_vue  [emitted] [immutable]  app_vue
    js/app_vue-d7a1f5b8b20f7aea414e.js.map    7.48 MiB      app_vue  [emitted] [dev]        app_vue
    js/application-f206e4d7acd3850d4fff.js    4.05 MiB  application  [emitted] [immutable]  application
js/application-f206e4d7acd3850d4fff.js.map       4 MiB  application  [emitted] [dev]        application
      js/setupCSRF-5443c78092c98017eed1.js    71.6 KiB    setupCSRF  [emitted] [immutable]  setupCSRF
  js/setupCSRF-5443c78092c98017eed1.js.map      72 KiB    setupCSRF  [emitted] [dev]        setupCSRF
                             manifest.json  1000 bytes               [emitted]              
Entrypoint app_vue = js/app_vue-d7a1f5b8b20f7aea414e.js js/app_vue-d7a1f5b8b20f7aea414e.js.map
Entrypoint application = js/application-f206e4d7acd3850d4fff.js js/application-f206e4d7acd3850d4fff.js.map
Entrypoint setupCSRF = js/setupCSRF-5443c78092c98017eed1.js js/setupCSRF-5443c78092c98017eed1.js.map
[./app/javascript/app.vue] 1.19 KiB {app_vue} [built]
[./app/javascript/app.vue?vue&type=script&lang=js&] 364 bytes {app_vue} [built]
[./app/javascript/app.vue?vue&type=style&index=0&id=6fb8108a&scoped=true&lang=css&] 358 bytes {app_vue} [built]
[./app/javascript/app.vue?vue&type=template&id=6fb8108a&scoped=true&] 201 bytes {app_vue} [built]
[./app/javascript/packs/app_vue.js] 8.65 KiB {app_vue} [built]
[./app/javascript/packs/application.js] 10.8 KiB {application} [built]
[./app/javascript/packs/setupCSRF.js] 193 bytes {setupCSRF} {app_vue} [built]
[./app/javascript/stylesheets/estilos.scss] 657 bytes {app_vue} [built]
[./app/javascript/stylesheets/styles.scss] 656 bytes {application} [built]
[./node_modules/babel-loader/lib/index.js?!./node_modules/vue-loader/lib/index.js?!./app/javascript/app.vue?vue&type=script&lang=js&] ./node_modules/babel-loader/lib??ref--7-0!./node_modules/vue-loader/lib??vue-loader-options!./app/javascript/app.vue?vue&type=script&lang=js& 97 bytes {app_vue} [built]
[./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/sass-loader/dist/cjs.js?!./app/javascript/stylesheets/estilos.scss] ./node_modules/css-loader??ref--3-1!./node_modules/postcss-loader/src??ref--3-2!./node_modules/sass-loader/dist/cjs.js??ref--3-3!./app/javascript/stylesheets/estilos.scss 8.54 KiB {app_vue} [built]
[./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/sass-loader/dist/cjs.js?!./app/javascript/stylesheets/styles.scss] ./node_modules/css-loader??ref--3-1!./node_modules/postcss-loader/src??ref--3-2!./node_modules/sass-loader/dist/cjs.js??ref--3-3!./app/javascript/stylesheets/styles.scss 1.6 MiB {application} [built]
[./node_modules/style-loader/dist/cjs.js!./node_modules/css-loader/index.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/vue-loader/lib/index.js?!./app/javascript/app.vue?vue&type=style&index=0&id=6fb8108a&scoped=true&lang=css&] ./node_modules/style-loader/dist/cjs.js!./node_modules/css-loader??ref--2-1!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--2-2!./node_modules/vue-loader/lib??vue-loader-options!./app/javascript/app.vue?vue&type=style&index=0&id=6fb8108a&scoped=true&lang=css& 768 bytes {app_vue} [built]
[./node_modules/webpack/buildin/global.js] (webpack)/buildin/global.js 863 bytes {app_vue} {application} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {app_vue} {application} [built]
    + 921 hidden modules

[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mInternalPosition Load (0.9ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" INNER JOIN "USER_INTERNAL_POSITIONS" ON "INTERNAL_POSITIONS"."ID" = "USER_INTERNAL_POSITIONS"."INTERNAL_POSITION_ID" WHERE "USER_INTERNAL_POSITIONS"."USER_ID" = :a1[0m  [["user_id", 1]]
  â†³ app/views/partials/_navigation.erb:7
  [1m[36mCACHE InternalPosition Load (0.0ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  Rendered partials/_navigation.erb (Duration: 37.0ms | Allocations: 8127)
Completed 200 OK in 61379ms (Views: 56641.0ms | ActiveRecord: 1071.4ms | Allocations: 53638)


Started GET "/users.json" for ::1 at 2022-11-08 17:28:44 -0300
Processing by UsersController#index as JSON
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT * FROM (SELECT "USERS".* FROM "USERS" WHERE "USERS"."ID" = :a1 ORDER BY "USERS"."ID" ASC ) WHERE ROWNUM <= :a2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInternalPosition Load (1.3ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPosition Load (1.3ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."NAME" = :a1 AND ROWNUM <= :a2 [0m  [["name", "SUPERADMIN"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:13:in `authorize_action'
  [1m[36mPermission Load (1.7ms)[0m  [1m[34mSELECT * FROM (SELECT "PERMISSIONS".* FROM "PERMISSIONS" WHERE "PERMISSIONS"."SUBJECT_CLASS" = :a1 AND "PERMISSIONS"."ACTION" = :a2 ORDER BY "PERMISSIONS"."ID" ASC ) WHERE ROWNUM <= :a3[0m  [["subject_class", "User"], ["action", "index"], ["LIMIT", 1]]
  â†³ app/models/user.rb:100:in `has_permission?'
  [1m[36mPermission Load (1.3ms)[0m  [1m[34mSELECT * FROM (SELECT "PERMISSIONS".* FROM "PERMISSIONS" WHERE "PERMISSIONS"."SUBJECT_CLASS" = :a1 AND "PERMISSIONS"."ACTION" = :a2 ORDER BY "PERMISSIONS"."ID" ASC ) WHERE ROWNUM <= :a3[0m  [["subject_class", "User"], ["action", "manage"], ["LIMIT", 1]]
  â†³ app/models/user.rb:101:in `has_permission?'
  [1m[36mPermission Load (2.8ms)[0m  [1m[34mSELECT * FROM (SELECT "PERMISSIONS".* FROM "PERMISSIONS" WHERE "PERMISSIONS"."SUBJECT_CLASS" = :a1 AND "PERMISSIONS"."ACTION" = :a2 ORDER BY "PERMISSIONS"."ID" ASC ) WHERE ROWNUM <= :a3[0m  [["subject_class", "all"], ["action", "manage"], ["LIMIT", 1]]
  â†³ app/models/user.rb:102:in `has_permission?'
  [1m[36mCACHE InternalPosition Load (0.1ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPositionPermission Exists? (4.2ms)[0m  [1m[34mSELECT 1 AS one FROM "INTERNAL_POSITION_PERMISSIONS" WHERE "INTERNAL_POSITION_PERMISSIONS"."INTERNAL_POSITION_ID" = :a1 AND "INTERNAL_POSITION_PERMISSIONS"."PERMISSION_ID" = :a2 AND "INTERNAL_POSITION_PERMISSIONS"."UNIT_ID" IS NULL AND ROWNUM <= :a3 [0m  [["internal_position_id", 1], ["permission_id", 117], ["LIMIT", 1]]
  â†³ app/models/internal_position.rb:8:in `has_permission?'
  [1m[36mCACHE InternalPosition Load (0.1ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPositionPermission Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "INTERNAL_POSITION_PERMISSIONS" WHERE "INTERNAL_POSITION_PERMISSIONS"."INTERNAL_POSITION_ID" = :a1 AND "INTERNAL_POSITION_PERMISSIONS"."PERMISSION_ID" = :a2 AND "INTERNAL_POSITION_PERMISSIONS"."UNIT_ID" IS NULL AND ROWNUM <= :a3 [0m  [["internal_position_id", 1], ["permission_id", 122], ["LIMIT", 1]]
  â†³ app/models/internal_position.rb:8:in `has_permission?'
  [1m[36mCACHE InternalPosition Load (0.1ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPositionPermission Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "INTERNAL_POSITION_PERMISSIONS" WHERE "INTERNAL_POSITION_PERMISSIONS"."INTERNAL_POSITION_ID" = :a1 AND "INTERNAL_POSITION_PERMISSIONS"."PERMISSION_ID" = :a2 AND "INTERNAL_POSITION_PERMISSIONS"."UNIT_ID" IS NULL AND ROWNUM <= :a3 [0m  [["internal_position_id", 1], ["permission_id", 1], ["LIMIT", 1]]
  â†³ app/models/internal_position.rb:8:in `has_permission?'
  Rendering users/index.json.jbuilder
  [1m[36mUser Load (3.7ms)[0m  [1m[34mSELECT "USERS".* FROM "USERS"[0m
  â†³ app/views/users/index.json.jbuilder:1
  Rendered users/_user.json.jbuilder (Duration: 0.9ms | Allocations: 96)
  Rendered users/_user.json.jbuilder (Duration: 0.7ms | Allocations: 79)
  Rendered users/_user.json.jbuilder (Duration: 4.8ms | Allocations: 79)
  Rendered users/_user.json.jbuilder (Duration: 0.9ms | Allocations: 80)
  Rendered users/_user.json.jbuilder (Duration: 0.8ms | Allocations: 79)
  Rendered users/_user.json.jbuilder (Duration: 0.7ms | Allocations: 79)
  Rendered users/_user.json.jbuilder (Duration: 0.9ms | Allocations: 79)
  Rendered users/_user.json.jbuilder (Duration: 0.7ms | Allocations: 79)
  Rendered users/_user.json.jbuilder (Duration: 0.7ms | Allocations: 79)
  Rendered users/index.json.jbuilder (Duration: 28.7ms | Allocations: 3588)
Completed 200 OK in 108ms (Views: 27.7ms | ActiveRecord: 20.5ms | Allocations: 12899)


Started GET "/internal_positions.json" for ::1 at 2022-11-08 17:28:54 -0300
Processing by InternalPositionsController#index as JSON
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT * FROM (SELECT "USERS".* FROM "USERS" WHERE "USERS"."ID" = :a1 ORDER BY "USERS"."ID" ASC ) WHERE ROWNUM <= :a2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInternalPosition Load (2.3ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPosition Load (2.9ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."NAME" = :a1 AND ROWNUM <= :a2 [0m  [["name", "SUPERADMIN"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:13:in `authorize_action'
  [1m[36mPermission Load (2.1ms)[0m  [1m[34mSELECT * FROM (SELECT "PERMISSIONS".* FROM "PERMISSIONS" WHERE "PERMISSIONS"."SUBJECT_CLASS" = :a1 AND "PERMISSIONS"."ACTION" = :a2 ORDER BY "PERMISSIONS"."ID" ASC ) WHERE ROWNUM <= :a3[0m  [["subject_class", "InternalPosition"], ["action", "index"], ["LIMIT", 1]]
  â†³ app/models/user.rb:100:in `has_permission?'
  [1m[36mPermission Load (1.5ms)[0m  [1m[34mSELECT * FROM (SELECT "PERMISSIONS".* FROM "PERMISSIONS" WHERE "PERMISSIONS"."SUBJECT_CLASS" = :a1 AND "PERMISSIONS"."ACTION" = :a2 ORDER BY "PERMISSIONS"."ID" ASC ) WHERE ROWNUM <= :a3[0m  [["subject_class", "InternalPosition"], ["action", "manage"], ["LIMIT", 1]]
  â†³ app/models/user.rb:101:in `has_permission?'
  [1m[36mPermission Load (1.8ms)[0m  [1m[34mSELECT * FROM (SELECT "PERMISSIONS".* FROM "PERMISSIONS" WHERE "PERMISSIONS"."SUBJECT_CLASS" = :a1 AND "PERMISSIONS"."ACTION" = :a2 ORDER BY "PERMISSIONS"."ID" ASC ) WHERE ROWNUM <= :a3[0m  [["subject_class", "all"], ["action", "manage"], ["LIMIT", 1]]
  â†³ app/models/user.rb:102:in `has_permission?'
  [1m[36mCACHE InternalPosition Load (0.0ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPositionPermission Exists? (2.3ms)[0m  [1m[34mSELECT 1 AS one FROM "INTERNAL_POSITION_PERMISSIONS" WHERE "INTERNAL_POSITION_PERMISSIONS"."INTERNAL_POSITION_ID" = :a1 AND "INTERNAL_POSITION_PERMISSIONS"."PERMISSION_ID" = :a2 AND "INTERNAL_POSITION_PERMISSIONS"."UNIT_ID" IS NULL AND ROWNUM <= :a3 [0m  [["internal_position_id", 1], ["permission_id", 103], ["LIMIT", 1]]
  â†³ app/models/internal_position.rb:8:in `has_permission?'
  [1m[36mCACHE InternalPosition Load (0.1ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPositionPermission Exists? (2.9ms)[0m  [1m[34mSELECT 1 AS one FROM "INTERNAL_POSITION_PERMISSIONS" WHERE "INTERNAL_POSITION_PERMISSIONS"."INTERNAL_POSITION_ID" = :a1 AND "INTERNAL_POSITION_PERMISSIONS"."PERMISSION_ID" = :a2 AND "INTERNAL_POSITION_PERMISSIONS"."UNIT_ID" IS NULL AND ROWNUM <= :a3 [0m  [["internal_position_id", 1], ["permission_id", 108], ["LIMIT", 1]]
  â†³ app/models/internal_position.rb:8:in `has_permission?'
  [1m[36mCACHE InternalPosition Load (0.1ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPositionPermission Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "INTERNAL_POSITION_PERMISSIONS" WHERE "INTERNAL_POSITION_PERMISSIONS"."INTERNAL_POSITION_ID" = :a1 AND "INTERNAL_POSITION_PERMISSIONS"."PERMISSION_ID" = :a2 AND "INTERNAL_POSITION_PERMISSIONS"."UNIT_ID" IS NULL AND ROWNUM <= :a3 [0m  [["internal_position_id", 1], ["permission_id", 1], ["LIMIT", 1]]
  â†³ app/models/internal_position.rb:8:in `has_permission?'
  Rendering internal_positions/index.json.jbuilder
  [1m[36mInternalPosition Load (1.5ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS"[0m
  â†³ app/views/internal_positions/index.json.jbuilder:1
  Rendered internal_positions/_internal_position.json.jbuilder (Duration: 0.9ms | Allocations: 95)
  Rendered internal_positions/_internal_position.json.jbuilder (Duration: 0.8ms | Allocations: 80)
  Rendered internal_positions/_internal_position.json.jbuilder (Duration: 1.3ms | Allocations: 80)
  Rendered internal_positions/index.json.jbuilder (Duration: 12.3ms | Allocations: 1614)
Completed 200 OK in 81ms (Views: 13.8ms | ActiveRecord: 20.4ms | Allocations: 11193)


Started POST "/users/newuser.json" for ::1 at 2022-11-08 17:29:21 -0300
Processing by UsersController#asignar_cargo as JSON
  Parameters: {"full_name"=>"FFF", "rut"=>"93758256-4", "email"=>"correoseis@usach.cl", "internal_position_id"=>3, "user"=>{"email"=>"correoseis@usach.cl", "full_name"=>"FFF", "rut"=>"93758256-4"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT * FROM (SELECT "USERS".* FROM "USERS" WHERE "USERS"."ID" = :a1 ORDER BY "USERS"."ID" ASC ) WHERE ROWNUM <= :a2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInternalPosition Load (1.6ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPosition Load (0.9ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."NAME" = :a1 AND ROWNUM <= :a2 [0m  [["name", "SUPERADMIN"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:13:in `authorize_action'
  [1m[36mPermission Load (1.3ms)[0m  [1m[34mSELECT * FROM (SELECT "PERMISSIONS".* FROM "PERMISSIONS" WHERE "PERMISSIONS"."SUBJECT_CLASS" = :a1 AND "PERMISSIONS"."ACTION" = :a2 ORDER BY "PERMISSIONS"."ID" ASC ) WHERE ROWNUM <= :a3[0m  [["subject_class", "User"], ["action", "asignar_cargo"], ["LIMIT", 1]]
  â†³ app/models/user.rb:100:in `has_permission?'
  [1m[36mPermission Load (2.0ms)[0m  [1m[34mSELECT * FROM (SELECT "PERMISSIONS".* FROM "PERMISSIONS" WHERE "PERMISSIONS"."SUBJECT_CLASS" = :a1 AND "PERMISSIONS"."ACTION" = :a2 ORDER BY "PERMISSIONS"."ID" ASC ) WHERE ROWNUM <= :a3[0m  [["subject_class", "User"], ["action", "manage"], ["LIMIT", 1]]
  â†³ app/models/user.rb:101:in `has_permission?'
  [1m[36mPermission Load (1.6ms)[0m  [1m[34mSELECT * FROM (SELECT "PERMISSIONS".* FROM "PERMISSIONS" WHERE "PERMISSIONS"."SUBJECT_CLASS" = :a1 AND "PERMISSIONS"."ACTION" = :a2 ORDER BY "PERMISSIONS"."ID" ASC ) WHERE ROWNUM <= :a3[0m  [["subject_class", "all"], ["action", "manage"], ["LIMIT", 1]]
  â†³ app/models/user.rb:102:in `has_permission?'
  [1m[36mCACHE InternalPosition Load (0.1ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPositionPermission Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "INTERNAL_POSITION_PERMISSIONS" WHERE "INTERNAL_POSITION_PERMISSIONS"."INTERNAL_POSITION_ID" = :a1 AND "INTERNAL_POSITION_PERMISSIONS"."PERMISSION_ID" = :a2 AND "INTERNAL_POSITION_PERMISSIONS"."UNIT_ID" IS NULL AND ROWNUM <= :a3 [0m  [["internal_position_id", 1], ["permission_id", 117], ["LIMIT", 1]]
  â†³ app/models/internal_position.rb:8:in `has_permission?'
  [1m[36mCACHE InternalPosition Load (0.0ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPositionPermission Exists? (5.9ms)[0m  [1m[34mSELECT 1 AS one FROM "INTERNAL_POSITION_PERMISSIONS" WHERE "INTERNAL_POSITION_PERMISSIONS"."INTERNAL_POSITION_ID" = :a1 AND "INTERNAL_POSITION_PERMISSIONS"."PERMISSION_ID" IS NULL AND "INTERNAL_POSITION_PERMISSIONS"."UNIT_ID" IS NULL AND ROWNUM <= :a2 [0m  [["internal_position_id", 1], ["LIMIT", 1]]
  â†³ app/models/internal_position.rb:8:in `has_permission?'
  [1m[36mCACHE InternalPosition Load (0.1ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPositionPermission Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "INTERNAL_POSITION_PERMISSIONS" WHERE "INTERNAL_POSITION_PERMISSIONS"."INTERNAL_POSITION_ID" = :a1 AND "INTERNAL_POSITION_PERMISSIONS"."PERMISSION_ID" = :a2 AND "INTERNAL_POSITION_PERMISSIONS"."UNIT_ID" IS NULL AND ROWNUM <= :a3 [0m  [["internal_position_id", 1], ["permission_id", 1], ["LIMIT", 1]]
  â†³ app/models/internal_position.rb:8:in `has_permission?'
  [1m[36mInternalPosition Load (1.8ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:63:in `asignar_cargo'
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT "USERS".* FROM "USERS" WHERE "USERS"."EMAIL" = :a1 AND ROWNUM <= :a2 [0m  [["email", "correoseis@usach.cl"], ["LIMIT", 1]]
  â†³ app/models/user.rb:79:in `asignar_cargo'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "USERS" WHERE "USERS"."EMAIL" = :a1 AND ROWNUM <= :a2 [0m  [["email", "correoseis@usach.cl"], ["LIMIT", 1]]
  â†³ app/models/user.rb:85:in `asignar_cargo'
  [1m[36mCACHE User Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "USERS" WHERE "USERS"."EMAIL" = :a1 AND ROWNUM <= :a2 [0m  [["email", "correoseis@usach.cl"], ["LIMIT", 1]]
  â†³ app/models/user.rb:85:in `asignar_cargo'
  [1m[36mnext sequence value (1.3ms)[0m  [1m[34mSELECT "USERS_SEQ".NEXTVAL FROM dual[0m
  â†³ app/models/user.rb:85:in `asignar_cargo'
  [1m[36mUser Create (1.5ms)[0m  [1m[32mINSERT INTO "USERS" ("EMAIL", "ENCRYPTED_PASSWORD", "FULL_NAME", "CREATED_AT", "UPDATED_AT", "RUT", "ID") VALUES (:a1, :a2, :a3, :a4, :a5, :a6, :a7)[0m  [["email", "correoseis@usach.cl"], ["encrypted_password", "$2a$12$Rz9Qad7De9q19dB9G7UbnOLWr499dTt/mOqJjoha3v37Zp8q6E51W"], ["full_name", "FFF"], ["created_at", "2022-11-08 20:29:21.673386"], ["updated_at", "2022-11-08 20:29:21.673386"], ["rut", "93758256-4"], ["id", 11]]
  â†³ app/models/user.rb:85:in `asignar_cargo'
  [1m[36mInternalPosition Load (1.5ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."NAME" = :a1 AND ROWNUM <= :a2 [0m  [["name", "USUARIONORMAL"], ["LIMIT", 1]]
  â†³ app/models/user.rb:87:in `asignar_cargo'
  [1m[36mUserInternalPosition Exists? (2.0ms)[0m  [1m[34mSELECT 1 AS one FROM "USER_INTERNAL_POSITIONS" WHERE "USER_INTERNAL_POSITIONS"."USER_ID" = :a1 AND "USER_INTERNAL_POSITIONS"."INTERNAL_POSITION_ID" = :a2 AND ROWNUM <= :a3 [0m  [["user_id", 11], ["internal_position_id", 3], ["LIMIT", 1]]
  â†³ app/models/user.rb:89:in `asignar_cargo'
  [1m[36mSequence (1.5ms)[0m  [1m[34mselect /*+ OPTIMIZER_FEATURES_ENABLE('11.2.0.2') */ us.sequence_name from all_sequences us where us.sequence_owner = 'ADMIN1' and us.sequence_name = upper('USER_INTERNAL_POSITIONS_seq')[0m
  â†³ app/models/user.rb:92:in `asignar_cargo'
  [1m[36mPrimary Key (3.6ms)[0m  [1m[34mSELECT /*+ OPTIMIZER_FEATURES_ENABLE('11.2.0.2') */ cc.column_name FROM all_constraints c, all_cons_columns cc WHERE c.owner = 'ADMIN1' AND c.table_name = 'USER_INTERNAL_POSITIONS' AND c.constraint_type = 'P' AND cc.owner = c.owner AND cc.constraint_name = c.constraint_name[0m
  â†³ app/models/user.rb:92:in `asignar_cargo'
  [1m[36mnext sequence value (1.7ms)[0m  [1m[34mSELECT "USER_INTERNAL_POSITIONS_SEQ".NEXTVAL FROM dual[0m
  â†³ app/models/user.rb:93:in `asignar_cargo'
  [1m[36mUserInternalPosition Create (1.5ms)[0m  [1m[32mINSERT INTO "USER_INTERNAL_POSITIONS" ("USER_ID", "INTERNAL_POSITION_ID", "CREATED_AT", "UPDATED_AT", "ID") VALUES (:a1, :a2, :a3, :a4, :a5)[0m  [["user_id", 11], ["internal_position_id", 3], ["created_at", "2022-11-08 20:29:22.870973"], ["updated_at", "2022-11-08 20:29:22.870973"], ["id", 11]]
  â†³ app/models/user.rb:93:in `asignar_cargo'
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "USERS" WHERE "USERS"."EMAIL" = :a1 AND "USERS"."ID" != :a2 AND ROWNUM <= :a3 [0m  [["email", "correoseis@usach.cl"], ["id", 11], ["LIMIT", 1]]
  â†³ app/models/user.rb:95:in `asignar_cargo'
  [1m[36mUser Update (0.9ms)[0m  [1m[33mUPDATE "USERS" SET "UPDATED_AT" = :a1, "ACTIVE_PROFILE" = :a2 WHERE "USERS"."ID" = :a3[0m  [["updated_at", "2022-11-08 20:29:22.894919"], ["active_profile", 11], ["id", 11]]
  â†³ app/models/user.rb:95:in `asignar_cargo'
Completed 500 Internal Server Error in 1842ms (ActiveRecord: 39.0ms | Allocations: 25814)


  
NoMethodError (undefined method `id' for true:TrueClass):
  
app/controllers/users_controller.rb:68:in `block (2 levels) in asignar_cargo'
app/controllers/users_controller.rb:64:in `asignar_cargo'
Started GET "/users/newuser.json" for ::1 at 2022-11-08 17:29:30 -0300
Processing by UsersController#show as JSON
  Parameters: {"id"=>"newuser"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT * FROM (SELECT "USERS".* FROM "USERS" WHERE "USERS"."ID" = :a1 ORDER BY "USERS"."ID" ASC ) WHERE ROWNUM <= :a2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInternalPosition Load (1.0ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPosition Load (1.4ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."NAME" = :a1 AND ROWNUM <= :a2 [0m  [["name", "SUPERADMIN"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:13:in `authorize_action'
  [1m[36mPermission Load (1.5ms)[0m  [1m[34mSELECT * FROM (SELECT "PERMISSIONS".* FROM "PERMISSIONS" WHERE "PERMISSIONS"."SUBJECT_CLASS" = :a1 AND "PERMISSIONS"."ACTION" = :a2 ORDER BY "PERMISSIONS"."ID" ASC ) WHERE ROWNUM <= :a3[0m  [["subject_class", "User"], ["action", "show"], ["LIMIT", 1]]
  â†³ app/models/user.rb:100:in `has_permission?'
  [1m[36mPermission Load (1.4ms)[0m  [1m[34mSELECT * FROM (SELECT "PERMISSIONS".* FROM "PERMISSIONS" WHERE "PERMISSIONS"."SUBJECT_CLASS" = :a1 AND "PERMISSIONS"."ACTION" = :a2 ORDER BY "PERMISSIONS"."ID" ASC ) WHERE ROWNUM <= :a3[0m  [["subject_class", "User"], ["action", "manage"], ["LIMIT", 1]]
  â†³ app/models/user.rb:101:in `has_permission?'
  [1m[36mPermission Load (3.1ms)[0m  [1m[34mSELECT * FROM (SELECT "PERMISSIONS".* FROM "PERMISSIONS" WHERE "PERMISSIONS"."SUBJECT_CLASS" = :a1 AND "PERMISSIONS"."ACTION" = :a2 ORDER BY "PERMISSIONS"."ID" ASC ) WHERE ROWNUM <= :a3[0m  [["subject_class", "all"], ["action", "manage"], ["LIMIT", 1]]
  â†³ app/models/user.rb:102:in `has_permission?'
  [1m[36mCACHE InternalPosition Load (0.0ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPositionPermission Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "INTERNAL_POSITION_PERMISSIONS" WHERE "INTERNAL_POSITION_PERMISSIONS"."INTERNAL_POSITION_ID" = :a1 AND "INTERNAL_POSITION_PERMISSIONS"."PERMISSION_ID" = :a2 AND "INTERNAL_POSITION_PERMISSIONS"."UNIT_ID" IS NULL AND ROWNUM <= :a3 [0m  [["internal_position_id", 1], ["permission_id", 117], ["LIMIT", 1]]
  â†³ app/models/internal_position.rb:8:in `has_permission?'
  [1m[36mCACHE InternalPosition Load (0.0ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPositionPermission Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "INTERNAL_POSITION_PERMISSIONS" WHERE "INTERNAL_POSITION_PERMISSIONS"."INTERNAL_POSITION_ID" = :a1 AND "INTERNAL_POSITION_PERMISSIONS"."PERMISSION_ID" = :a2 AND "INTERNAL_POSITION_PERMISSIONS"."UNIT_ID" IS NULL AND ROWNUM <= :a3 [0m  [["internal_position_id", 1], ["permission_id", 118], ["LIMIT", 1]]
  â†³ app/models/internal_position.rb:8:in `has_permission?'
  [1m[36mCACHE InternalPosition Load (0.0ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPositionPermission Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "INTERNAL_POSITION_PERMISSIONS" WHERE "INTERNAL_POSITION_PERMISSIONS"."INTERNAL_POSITION_ID" = :a1 AND "INTERNAL_POSITION_PERMISSIONS"."PERMISSION_ID" = :a2 AND "INTERNAL_POSITION_PERMISSIONS"."UNIT_ID" IS NULL AND ROWNUM <= :a3 [0m  [["internal_position_id", 1], ["permission_id", 1], ["LIMIT", 1]]
  â†³ app/models/internal_position.rb:8:in `has_permission?'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "USERS".* FROM "USERS" WHERE "USERS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", nil], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:84:in `set_user'
Completed 404 Not Found in 63ms (ActiveRecord: 12.5ms | Allocations: 10114)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=newuser):
  
app/controllers/users_controller.rb:84:in `set_user'
Started GET "/users" for ::1 at 2022-11-08 17:29:35 -0300
Processing by UsersController#index as HTML
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT * FROM (SELECT "USERS".* FROM "USERS" WHERE "USERS"."ID" = :a1 ORDER BY "USERS"."ID" ASC ) WHERE ROWNUM <= :a2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInternalPosition Load (1.2ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPosition Load (2.3ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."NAME" = :a1 AND ROWNUM <= :a2 [0m  [["name", "SUPERADMIN"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:13:in `authorize_action'
  [1m[36mPermission Load (4.8ms)[0m  [1m[34mSELECT * FROM (SELECT "PERMISSIONS".* FROM "PERMISSIONS" WHERE "PERMISSIONS"."SUBJECT_CLASS" = :a1 AND "PERMISSIONS"."ACTION" = :a2 ORDER BY "PERMISSIONS"."ID" ASC ) WHERE ROWNUM <= :a3[0m  [["subject_class", "User"], ["action", "index"], ["LIMIT", 1]]
  â†³ app/models/user.rb:100:in `has_permission?'
  [1m[36mPermission Load (2.1ms)[0m  [1m[34mSELECT * FROM (SELECT "PERMISSIONS".* FROM "PERMISSIONS" WHERE "PERMISSIONS"."SUBJECT_CLASS" = :a1 AND "PERMISSIONS"."ACTION" = :a2 ORDER BY "PERMISSIONS"."ID" ASC ) WHERE ROWNUM <= :a3[0m  [["subject_class", "User"], ["action", "manage"], ["LIMIT", 1]]
  â†³ app/models/user.rb:101:in `has_permission?'
  [1m[36mPermission Load (3.0ms)[0m  [1m[34mSELECT * FROM (SELECT "PERMISSIONS".* FROM "PERMISSIONS" WHERE "PERMISSIONS"."SUBJECT_CLASS" = :a1 AND "PERMISSIONS"."ACTION" = :a2 ORDER BY "PERMISSIONS"."ID" ASC ) WHERE ROWNUM <= :a3[0m  [["subject_class", "all"], ["action", "manage"], ["LIMIT", 1]]
  â†³ app/models/user.rb:102:in `has_permission?'
  [1m[36mCACHE InternalPosition Load (0.0ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPositionPermission Exists? (2.7ms)[0m  [1m[34mSELECT 1 AS one FROM "INTERNAL_POSITION_PERMISSIONS" WHERE "INTERNAL_POSITION_PERMISSIONS"."INTERNAL_POSITION_ID" = :a1 AND "INTERNAL_POSITION_PERMISSIONS"."PERMISSION_ID" = :a2 AND "INTERNAL_POSITION_PERMISSIONS"."UNIT_ID" IS NULL AND ROWNUM <= :a3 [0m  [["internal_position_id", 1], ["permission_id", 117], ["LIMIT", 1]]
  â†³ app/models/internal_position.rb:8:in `has_permission?'
  [1m[36mCACHE InternalPosition Load (0.1ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPositionPermission Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "INTERNAL_POSITION_PERMISSIONS" WHERE "INTERNAL_POSITION_PERMISSIONS"."INTERNAL_POSITION_ID" = :a1 AND "INTERNAL_POSITION_PERMISSIONS"."PERMISSION_ID" = :a2 AND "INTERNAL_POSITION_PERMISSIONS"."UNIT_ID" IS NULL AND ROWNUM <= :a3 [0m  [["internal_position_id", 1], ["permission_id", 122], ["LIMIT", 1]]
  â†³ app/models/internal_position.rb:8:in `has_permission?'
  [1m[36mCACHE InternalPosition Load (0.0ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPositionPermission Exists? (2.2ms)[0m  [1m[34mSELECT 1 AS one FROM "INTERNAL_POSITION_PERMISSIONS" WHERE "INTERNAL_POSITION_PERMISSIONS"."INTERNAL_POSITION_ID" = :a1 AND "INTERNAL_POSITION_PERMISSIONS"."PERMISSION_ID" = :a2 AND "INTERNAL_POSITION_PERMISSIONS"."UNIT_ID" IS NULL AND ROWNUM <= :a3 [0m  [["internal_position_id", 1], ["permission_id", 1], ["LIMIT", 1]]
  â†³ app/models/internal_position.rb:8:in `has_permission?'
  Rendering users/index.html.erb within layouts/application
  Rendered users/index.html.erb within layouts/application (Duration: 0.1ms | Allocations: 4)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mInternalPosition Load (2.4ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" INNER JOIN "USER_INTERNAL_POSITIONS" ON "INTERNAL_POSITIONS"."ID" = "USER_INTERNAL_POSITIONS"."INTERNAL_POSITION_ID" WHERE "USER_INTERNAL_POSITIONS"."USER_ID" = :a1[0m  [["user_id", 1]]
  â†³ app/views/partials/_navigation.erb:7
  [1m[36mCACHE InternalPosition Load (0.1ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  Rendered partials/_navigation.erb (Duration: 15.6ms | Allocations: 1915)
Completed 200 OK in 124ms (Views: 41.9ms | ActiveRecord: 24.4ms | Allocations: 15643)


Started GET "/users.json" for ::1 at 2022-11-08 17:29:38 -0300
Processing by UsersController#index as JSON
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT * FROM (SELECT "USERS".* FROM "USERS" WHERE "USERS"."ID" = :a1 ORDER BY "USERS"."ID" ASC ) WHERE ROWNUM <= :a2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInternalPosition Load (3.0ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPosition Load (1.7ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."NAME" = :a1 AND ROWNUM <= :a2 [0m  [["name", "SUPERADMIN"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:13:in `authorize_action'
  [1m[36mPermission Load (4.6ms)[0m  [1m[34mSELECT * FROM (SELECT "PERMISSIONS".* FROM "PERMISSIONS" WHERE "PERMISSIONS"."SUBJECT_CLASS" = :a1 AND "PERMISSIONS"."ACTION" = :a2 ORDER BY "PERMISSIONS"."ID" ASC ) WHERE ROWNUM <= :a3[0m  [["subject_class", "User"], ["action", "index"], ["LIMIT", 1]]
  â†³ app/models/user.rb:100:in `has_permission?'
  [1m[36mPermission Load (1.7ms)[0m  [1m[34mSELECT * FROM (SELECT "PERMISSIONS".* FROM "PERMISSIONS" WHERE "PERMISSIONS"."SUBJECT_CLASS" = :a1 AND "PERMISSIONS"."ACTION" = :a2 ORDER BY "PERMISSIONS"."ID" ASC ) WHERE ROWNUM <= :a3[0m  [["subject_class", "User"], ["action", "manage"], ["LIMIT", 1]]
  â†³ app/models/user.rb:101:in `has_permission?'
  [1m[36mPermission Load (1.6ms)[0m  [1m[34mSELECT * FROM (SELECT "PERMISSIONS".* FROM "PERMISSIONS" WHERE "PERMISSIONS"."SUBJECT_CLASS" = :a1 AND "PERMISSIONS"."ACTION" = :a2 ORDER BY "PERMISSIONS"."ID" ASC ) WHERE ROWNUM <= :a3[0m  [["subject_class", "all"], ["action", "manage"], ["LIMIT", 1]]
  â†³ app/models/user.rb:102:in `has_permission?'
  [1m[36mCACHE InternalPosition Load (0.1ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPositionPermission Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "INTERNAL_POSITION_PERMISSIONS" WHERE "INTERNAL_POSITION_PERMISSIONS"."INTERNAL_POSITION_ID" = :a1 AND "INTERNAL_POSITION_PERMISSIONS"."PERMISSION_ID" = :a2 AND "INTERNAL_POSITION_PERMISSIONS"."UNIT_ID" IS NULL AND ROWNUM <= :a3 [0m  [["internal_position_id", 1], ["permission_id", 117], ["LIMIT", 1]]
  â†³ app/models/internal_position.rb:8:in `has_permission?'
  [1m[36mCACHE InternalPosition Load (0.1ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPositionPermission Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "INTERNAL_POSITION_PERMISSIONS" WHERE "INTERNAL_POSITION_PERMISSIONS"."INTERNAL_POSITION_ID" = :a1 AND "INTERNAL_POSITION_PERMISSIONS"."PERMISSION_ID" = :a2 AND "INTERNAL_POSITION_PERMISSIONS"."UNIT_ID" IS NULL AND ROWNUM <= :a3 [0m  [["internal_position_id", 1], ["permission_id", 122], ["LIMIT", 1]]
  â†³ app/models/internal_position.rb:8:in `has_permission?'
  [1m[36mCACHE InternalPosition Load (0.0ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPositionPermission Exists? (2.0ms)[0m  [1m[34mSELECT 1 AS one FROM "INTERNAL_POSITION_PERMISSIONS" WHERE "INTERNAL_POSITION_PERMISSIONS"."INTERNAL_POSITION_ID" = :a1 AND "INTERNAL_POSITION_PERMISSIONS"."PERMISSION_ID" = :a2 AND "INTERNAL_POSITION_PERMISSIONS"."UNIT_ID" IS NULL AND ROWNUM <= :a3 [0m  [["internal_position_id", 1], ["permission_id", 1], ["LIMIT", 1]]
  â†³ app/models/internal_position.rb:8:in `has_permission?'
  Rendering users/index.json.jbuilder
  [1m[36mUser Load (3.9ms)[0m  [1m[34mSELECT "USERS".* FROM "USERS"[0m
  â†³ app/views/users/index.json.jbuilder:1
  Rendered users/_user.json.jbuilder (Duration: 1.0ms | Allocations: 90)
  Rendered users/_user.json.jbuilder (Duration: 0.8ms | Allocations: 79)
  Rendered users/_user.json.jbuilder (Duration: 0.6ms | Allocations: 79)
  Rendered users/_user.json.jbuilder (Duration: 0.8ms | Allocations: 80)
  Rendered users/_user.json.jbuilder (Duration: 0.9ms | Allocations: 79)
  Rendered users/_user.json.jbuilder (Duration: 0.8ms | Allocations: 79)
  Rendered users/_user.json.jbuilder (Duration: 0.7ms | Allocations: 79)
  Rendered users/_user.json.jbuilder (Duration: 1.0ms | Allocations: 79)
  Rendered users/_user.json.jbuilder (Duration: 0.8ms | Allocations: 79)
  Rendered users/_user.json.jbuilder (Duration: 0.7ms | Allocations: 79)
  Rendered users/index.json.jbuilder (Duration: 40.3ms | Allocations: 3891)
Completed 200 OK in 116ms (Views: 40.2ms | ActiveRecord: 23.0ms | Allocations: 13200)


Started GET "/users" for ::1 at 2022-11-08 17:31:55 -0300
Processing by UsersController#index as HTML
  [1m[36mtables (337.2ms)[0m  [1m[34mSELECT /*+ OPTIMIZER_FEATURES_ENABLE('11.2.0.2') */ DECODE(table_name, UPPER(table_name), LOWER(table_name), table_name) FROM all_tables WHERE owner = SYS_CONTEXT('userenv', 'current_schema') AND secondary = 'N' minus SELECT DECODE(mview_name, UPPER(mview_name), LOWER(mview_name), mview_name) FROM all_mviews WHERE owner = SYS_CONTEXT('userenv', 'current_schema')[0m
  [1m[36mviews (3.6ms)[0m  [1m[34mSELECT /*+ OPTIMIZER_FEATURES_ENABLE('11.2.0.2') */ LOWER(view_name) FROM all_views WHERE owner = SYS_CONTEXT('userenv', 'current_schema')[0m
  [1m[36msynonyms (636.8ms)[0m  [1m[34mSELECT synonym_name, table_owner, table_name FROM all_synonyms where owner = SYS_CONTEXT('userenv', 'current_schema')[0m
  [1m[36mSequence (1.8ms)[0m  [1m[34mselect /*+ OPTIMIZER_FEATURES_ENABLE('11.2.0.2') */ us.sequence_name from all_sequences us where us.sequence_owner = 'ADMIN1' and us.sequence_name = upper('USERS_seq')[0m
  [1m[36mPrimary Key (4.6ms)[0m  [1m[34mSELECT /*+ OPTIMIZER_FEATURES_ENABLE('11.2.0.2') */ cc.column_name FROM all_constraints c, all_cons_columns cc WHERE c.owner = 'ADMIN1' AND c.table_name = 'USERS' AND c.constraint_type = 'P' AND cc.owner = c.owner AND cc.constraint_name = c.constraint_name[0m
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT * FROM (SELECT "USERS".* FROM "USERS" WHERE "USERS"."ID" = :a1 ORDER BY "USERS"."ID" ASC ) WHERE ROWNUM <= :a2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSequence (1.7ms)[0m  [1m[34mselect /*+ OPTIMIZER_FEATURES_ENABLE('11.2.0.2') */ us.sequence_name from all_sequences us where us.sequence_owner = 'ADMIN1' and us.sequence_name = upper('INTERNAL_POSITIONS_seq')[0m
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mPrimary Key (4.8ms)[0m  [1m[34mSELECT /*+ OPTIMIZER_FEATURES_ENABLE('11.2.0.2') */ cc.column_name FROM all_constraints c, all_cons_columns cc WHERE c.owner = 'ADMIN1' AND c.table_name = 'INTERNAL_POSITIONS' AND c.constraint_type = 'P' AND cc.owner = c.owner AND cc.constraint_name = c.constraint_name[0m
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPosition Load (1.1ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPosition Load (1.6ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."NAME" = :a1 AND ROWNUM <= :a2 [0m  [["name", "SUPERADMIN"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:13:in `authorize_action'
  [1m[36mSequence (1.4ms)[0m  [1m[34mselect /*+ OPTIMIZER_FEATURES_ENABLE('11.2.0.2') */ us.sequence_name from all_sequences us where us.sequence_owner = 'ADMIN1' and us.sequence_name = upper('PERMISSIONS_seq')[0m
  â†³ app/models/user.rb:100:in `has_permission?'
  [1m[36mPrimary Key (5.2ms)[0m  [1m[34mSELECT /*+ OPTIMIZER_FEATURES_ENABLE('11.2.0.2') */ cc.column_name FROM all_constraints c, all_cons_columns cc WHERE c.owner = 'ADMIN1' AND c.table_name = 'PERMISSIONS' AND c.constraint_type = 'P' AND cc.owner = c.owner AND cc.constraint_name = c.constraint_name[0m
  â†³ app/models/user.rb:100:in `has_permission?'
  [1m[36mPermission Load (2.3ms)[0m  [1m[34mSELECT * FROM (SELECT "PERMISSIONS".* FROM "PERMISSIONS" WHERE "PERMISSIONS"."SUBJECT_CLASS" = :a1 AND "PERMISSIONS"."ACTION" = :a2 ORDER BY "PERMISSIONS"."ID" ASC ) WHERE ROWNUM <= :a3[0m  [["subject_class", "User"], ["action", "index"], ["LIMIT", 1]]
  â†³ app/models/user.rb:100:in `has_permission?'
  [1m[36mPermission Load (1.8ms)[0m  [1m[34mSELECT * FROM (SELECT "PERMISSIONS".* FROM "PERMISSIONS" WHERE "PERMISSIONS"."SUBJECT_CLASS" = :a1 AND "PERMISSIONS"."ACTION" = :a2 ORDER BY "PERMISSIONS"."ID" ASC ) WHERE ROWNUM <= :a3[0m  [["subject_class", "User"], ["action", "manage"], ["LIMIT", 1]]
  â†³ app/models/user.rb:101:in `has_permission?'
  [1m[36mPermission Load (2.0ms)[0m  [1m[34mSELECT * FROM (SELECT "PERMISSIONS".* FROM "PERMISSIONS" WHERE "PERMISSIONS"."SUBJECT_CLASS" = :a1 AND "PERMISSIONS"."ACTION" = :a2 ORDER BY "PERMISSIONS"."ID" ASC ) WHERE ROWNUM <= :a3[0m  [["subject_class", "all"], ["action", "manage"], ["LIMIT", 1]]
  â†³ app/models/user.rb:102:in `has_permission?'
  [1m[36mCACHE InternalPosition Load (0.1ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPositionPermission Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "INTERNAL_POSITION_PERMISSIONS" WHERE "INTERNAL_POSITION_PERMISSIONS"."INTERNAL_POSITION_ID" = :a1 AND "INTERNAL_POSITION_PERMISSIONS"."PERMISSION_ID" = :a2 AND "INTERNAL_POSITION_PERMISSIONS"."UNIT_ID" IS NULL AND ROWNUM <= :a3 [0m  [["internal_position_id", 1], ["permission_id", 117], ["LIMIT", 1]]
  â†³ app/models/internal_position.rb:8:in `has_permission?'
  [1m[36mCACHE InternalPosition Load (0.1ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPositionPermission Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "INTERNAL_POSITION_PERMISSIONS" WHERE "INTERNAL_POSITION_PERMISSIONS"."INTERNAL_POSITION_ID" = :a1 AND "INTERNAL_POSITION_PERMISSIONS"."PERMISSION_ID" = :a2 AND "INTERNAL_POSITION_PERMISSIONS"."UNIT_ID" IS NULL AND ROWNUM <= :a3 [0m  [["internal_position_id", 1], ["permission_id", 122], ["LIMIT", 1]]
  â†³ app/models/internal_position.rb:8:in `has_permission?'
  [1m[36mCACHE InternalPosition Load (0.0ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPositionPermission Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "INTERNAL_POSITION_PERMISSIONS" WHERE "INTERNAL_POSITION_PERMISSIONS"."INTERNAL_POSITION_ID" = :a1 AND "INTERNAL_POSITION_PERMISSIONS"."PERMISSION_ID" = :a2 AND "INTERNAL_POSITION_PERMISSIONS"."UNIT_ID" IS NULL AND ROWNUM <= :a3 [0m  [["internal_position_id", 1], ["permission_id", 1], ["LIMIT", 1]]
  â†³ app/models/internal_position.rb:8:in `has_permission?'
  Rendering users/index.html.erb within layouts/application
  Rendered users/index.html.erb within layouts/application (Duration: 0.4ms | Allocations: 4)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mInternalPosition Load (2.3ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" INNER JOIN "USER_INTERNAL_POSITIONS" ON "INTERNAL_POSITIONS"."ID" = "USER_INTERNAL_POSITIONS"."INTERNAL_POSITION_ID" WHERE "USER_INTERNAL_POSITIONS"."USER_ID" = :a1[0m  [["user_id", 1]]
  â†³ app/views/partials/_navigation.erb:7
  [1m[36mCACHE InternalPosition Load (0.0ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  Rendered partials/_navigation.erb (Duration: 33.4ms | Allocations: 5539)
Completed 200 OK in 4822ms (Views: 61.7ms | ActiveRecord: 1012.6ms | Allocations: 49053)


Started GET "/users.json" for ::1 at 2022-11-08 17:32:03 -0300
Processing by UsersController#index as JSON
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT * FROM (SELECT "USERS".* FROM "USERS" WHERE "USERS"."ID" = :a1 ORDER BY "USERS"."ID" ASC ) WHERE ROWNUM <= :a2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInternalPosition Load (0.8ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPosition Load (0.8ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."NAME" = :a1 AND ROWNUM <= :a2 [0m  [["name", "SUPERADMIN"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:13:in `authorize_action'
  [1m[36mPermission Load (1.7ms)[0m  [1m[34mSELECT * FROM (SELECT "PERMISSIONS".* FROM "PERMISSIONS" WHERE "PERMISSIONS"."SUBJECT_CLASS" = :a1 AND "PERMISSIONS"."ACTION" = :a2 ORDER BY "PERMISSIONS"."ID" ASC ) WHERE ROWNUM <= :a3[0m  [["subject_class", "User"], ["action", "index"], ["LIMIT", 1]]
  â†³ app/models/user.rb:100:in `has_permission?'
  [1m[36mPermission Load (1.9ms)[0m  [1m[34mSELECT * FROM (SELECT "PERMISSIONS".* FROM "PERMISSIONS" WHERE "PERMISSIONS"."SUBJECT_CLASS" = :a1 AND "PERMISSIONS"."ACTION" = :a2 ORDER BY "PERMISSIONS"."ID" ASC ) WHERE ROWNUM <= :a3[0m  [["subject_class", "User"], ["action", "manage"], ["LIMIT", 1]]
  â†³ app/models/user.rb:101:in `has_permission?'
  [1m[36mPermission Load (1.3ms)[0m  [1m[34mSELECT * FROM (SELECT "PERMISSIONS".* FROM "PERMISSIONS" WHERE "PERMISSIONS"."SUBJECT_CLASS" = :a1 AND "PERMISSIONS"."ACTION" = :a2 ORDER BY "PERMISSIONS"."ID" ASC ) WHERE ROWNUM <= :a3[0m  [["subject_class", "all"], ["action", "manage"], ["LIMIT", 1]]
  â†³ app/models/user.rb:102:in `has_permission?'
  [1m[36mCACHE InternalPosition Load (0.0ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPositionPermission Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "INTERNAL_POSITION_PERMISSIONS" WHERE "INTERNAL_POSITION_PERMISSIONS"."INTERNAL_POSITION_ID" = :a1 AND "INTERNAL_POSITION_PERMISSIONS"."PERMISSION_ID" = :a2 AND "INTERNAL_POSITION_PERMISSIONS"."UNIT_ID" IS NULL AND ROWNUM <= :a3 [0m  [["internal_position_id", 1], ["permission_id", 117], ["LIMIT", 1]]
  â†³ app/models/internal_position.rb:8:in `has_permission?'
  [1m[36mCACHE InternalPosition Load (0.1ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPositionPermission Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "INTERNAL_POSITION_PERMISSIONS" WHERE "INTERNAL_POSITION_PERMISSIONS"."INTERNAL_POSITION_ID" = :a1 AND "INTERNAL_POSITION_PERMISSIONS"."PERMISSION_ID" = :a2 AND "INTERNAL_POSITION_PERMISSIONS"."UNIT_ID" IS NULL AND ROWNUM <= :a3 [0m  [["internal_position_id", 1], ["permission_id", 122], ["LIMIT", 1]]
  â†³ app/models/internal_position.rb:8:in `has_permission?'
  [1m[36mCACHE InternalPosition Load (0.1ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPositionPermission Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "INTERNAL_POSITION_PERMISSIONS" WHERE "INTERNAL_POSITION_PERMISSIONS"."INTERNAL_POSITION_ID" = :a1 AND "INTERNAL_POSITION_PERMISSIONS"."PERMISSION_ID" = :a2 AND "INTERNAL_POSITION_PERMISSIONS"."UNIT_ID" IS NULL AND ROWNUM <= :a3 [0m  [["internal_position_id", 1], ["permission_id", 1], ["LIMIT", 1]]
  â†³ app/models/internal_position.rb:8:in `has_permission?'
  Rendering users/index.json.jbuilder
  [1m[36mUser Load (3.7ms)[0m  [1m[34mSELECT "USERS".* FROM "USERS"[0m
  â†³ app/views/users/index.json.jbuilder:1
  Rendered users/_user.json.jbuilder (Duration: 0.8ms | Allocations: 96)
  Rendered users/_user.json.jbuilder (Duration: 0.6ms | Allocations: 79)
  Rendered users/_user.json.jbuilder (Duration: 1.0ms | Allocations: 79)
  Rendered users/_user.json.jbuilder (Duration: 0.6ms | Allocations: 80)
  Rendered users/_user.json.jbuilder (Duration: 0.6ms | Allocations: 79)
  Rendered users/_user.json.jbuilder (Duration: 0.7ms | Allocations: 79)
  Rendered users/_user.json.jbuilder (Duration: 0.6ms | Allocations: 79)
  Rendered users/_user.json.jbuilder (Duration: 0.5ms | Allocations: 79)
  Rendered users/_user.json.jbuilder (Duration: 0.7ms | Allocations: 79)
  Rendered users/_user.json.jbuilder (Duration: 0.6ms | Allocations: 79)
  Rendered users/index.json.jbuilder (Duration: 33.5ms | Allocations: 3897)
Completed 200 OK in 91ms (Views: 32.2ms | ActiveRecord: 15.8ms | Allocations: 13210)


Started GET "/internal_positions.json" for ::1 at 2022-11-08 17:32:05 -0300
Processing by InternalPositionsController#index as JSON
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT * FROM (SELECT "USERS".* FROM "USERS" WHERE "USERS"."ID" = :a1 ORDER BY "USERS"."ID" ASC ) WHERE ROWNUM <= :a2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInternalPosition Load (1.2ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPosition Load (1.6ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."NAME" = :a1 AND ROWNUM <= :a2 [0m  [["name", "SUPERADMIN"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:13:in `authorize_action'
  [1m[36mPermission Load (2.7ms)[0m  [1m[34mSELECT * FROM (SELECT "PERMISSIONS".* FROM "PERMISSIONS" WHERE "PERMISSIONS"."SUBJECT_CLASS" = :a1 AND "PERMISSIONS"."ACTION" = :a2 ORDER BY "PERMISSIONS"."ID" ASC ) WHERE ROWNUM <= :a3[0m  [["subject_class", "InternalPosition"], ["action", "index"], ["LIMIT", 1]]
  â†³ app/models/user.rb:100:in `has_permission?'
  [1m[36mPermission Load (2.7ms)[0m  [1m[34mSELECT * FROM (SELECT "PERMISSIONS".* FROM "PERMISSIONS" WHERE "PERMISSIONS"."SUBJECT_CLASS" = :a1 AND "PERMISSIONS"."ACTION" = :a2 ORDER BY "PERMISSIONS"."ID" ASC ) WHERE ROWNUM <= :a3[0m  [["subject_class", "InternalPosition"], ["action", "manage"], ["LIMIT", 1]]
  â†³ app/models/user.rb:101:in `has_permission?'
  [1m[36mPermission Load (1.8ms)[0m  [1m[34mSELECT * FROM (SELECT "PERMISSIONS".* FROM "PERMISSIONS" WHERE "PERMISSIONS"."SUBJECT_CLASS" = :a1 AND "PERMISSIONS"."ACTION" = :a2 ORDER BY "PERMISSIONS"."ID" ASC ) WHERE ROWNUM <= :a3[0m  [["subject_class", "all"], ["action", "manage"], ["LIMIT", 1]]
  â†³ app/models/user.rb:102:in `has_permission?'
  [1m[36mCACHE InternalPosition Load (0.1ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPositionPermission Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "INTERNAL_POSITION_PERMISSIONS" WHERE "INTERNAL_POSITION_PERMISSIONS"."INTERNAL_POSITION_ID" = :a1 AND "INTERNAL_POSITION_PERMISSIONS"."PERMISSION_ID" = :a2 AND "INTERNAL_POSITION_PERMISSIONS"."UNIT_ID" IS NULL AND ROWNUM <= :a3 [0m  [["internal_position_id", 1], ["permission_id", 103], ["LIMIT", 1]]
  â†³ app/models/internal_position.rb:8:in `has_permission?'
  [1m[36mCACHE InternalPosition Load (0.1ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPositionPermission Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "INTERNAL_POSITION_PERMISSIONS" WHERE "INTERNAL_POSITION_PERMISSIONS"."INTERNAL_POSITION_ID" = :a1 AND "INTERNAL_POSITION_PERMISSIONS"."PERMISSION_ID" = :a2 AND "INTERNAL_POSITION_PERMISSIONS"."UNIT_ID" IS NULL AND ROWNUM <= :a3 [0m  [["internal_position_id", 1], ["permission_id", 108], ["LIMIT", 1]]
  â†³ app/models/internal_position.rb:8:in `has_permission?'
  [1m[36mCACHE InternalPosition Load (0.0ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPositionPermission Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "INTERNAL_POSITION_PERMISSIONS" WHERE "INTERNAL_POSITION_PERMISSIONS"."INTERNAL_POSITION_ID" = :a1 AND "INTERNAL_POSITION_PERMISSIONS"."PERMISSION_ID" = :a2 AND "INTERNAL_POSITION_PERMISSIONS"."UNIT_ID" IS NULL AND ROWNUM <= :a3 [0m  [["internal_position_id", 1], ["permission_id", 1], ["LIMIT", 1]]
  â†³ app/models/internal_position.rb:8:in `has_permission?'
  Rendering internal_positions/index.json.jbuilder
  [1m[36mInternalPosition Load (2.7ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS"[0m
  â†³ app/views/internal_positions/index.json.jbuilder:1
  Rendered internal_positions/_internal_position.json.jbuilder (Duration: 1.6ms | Allocations: 95)
  Rendered internal_positions/_internal_position.json.jbuilder (Duration: 1.0ms | Allocations: 80)
  Rendered internal_positions/_internal_position.json.jbuilder (Duration: 1.0ms | Allocations: 80)
  Rendered internal_positions/index.json.jbuilder (Duration: 15.1ms | Allocations: 1614)
Completed 200 OK in 83ms (Views: 16.0ms | ActiveRecord: 17.4ms | Allocations: 11193)


Started POST "/users/newuser.json" for ::1 at 2022-11-08 17:32:33 -0300
Processing by UsersController#asignar_cargo as JSON
  Parameters: {"full_name"=>"GGG", "rut"=>"63684259-4", "email"=>"chao@usach.cl", "internal_position_id"=>3, "user"=>{"email"=>"chao@usach.cl", "full_name"=>"GGG", "rut"=>"63684259-4"}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT * FROM (SELECT "USERS".* FROM "USERS" WHERE "USERS"."ID" = :a1 ORDER BY "USERS"."ID" ASC ) WHERE ROWNUM <= :a2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInternalPosition Load (1.6ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPosition Load (1.2ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."NAME" = :a1 AND ROWNUM <= :a2 [0m  [["name", "SUPERADMIN"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:13:in `authorize_action'
  [1m[36mPermission Load (1.2ms)[0m  [1m[34mSELECT * FROM (SELECT "PERMISSIONS".* FROM "PERMISSIONS" WHERE "PERMISSIONS"."SUBJECT_CLASS" = :a1 AND "PERMISSIONS"."ACTION" = :a2 ORDER BY "PERMISSIONS"."ID" ASC ) WHERE ROWNUM <= :a3[0m  [["subject_class", "User"], ["action", "asignar_cargo"], ["LIMIT", 1]]
  â†³ app/models/user.rb:100:in `has_permission?'
  [1m[36mPermission Load (1.8ms)[0m  [1m[34mSELECT * FROM (SELECT "PERMISSIONS".* FROM "PERMISSIONS" WHERE "PERMISSIONS"."SUBJECT_CLASS" = :a1 AND "PERMISSIONS"."ACTION" = :a2 ORDER BY "PERMISSIONS"."ID" ASC ) WHERE ROWNUM <= :a3[0m  [["subject_class", "User"], ["action", "manage"], ["LIMIT", 1]]
  â†³ app/models/user.rb:101:in `has_permission?'
  [1m[36mPermission Load (2.1ms)[0m  [1m[34mSELECT * FROM (SELECT "PERMISSIONS".* FROM "PERMISSIONS" WHERE "PERMISSIONS"."SUBJECT_CLASS" = :a1 AND "PERMISSIONS"."ACTION" = :a2 ORDER BY "PERMISSIONS"."ID" ASC ) WHERE ROWNUM <= :a3[0m  [["subject_class", "all"], ["action", "manage"], ["LIMIT", 1]]
  â†³ app/models/user.rb:102:in `has_permission?'
  [1m[36mCACHE InternalPosition Load (0.0ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPositionPermission Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "INTERNAL_POSITION_PERMISSIONS" WHERE "INTERNAL_POSITION_PERMISSIONS"."INTERNAL_POSITION_ID" = :a1 AND "INTERNAL_POSITION_PERMISSIONS"."PERMISSION_ID" = :a2 AND "INTERNAL_POSITION_PERMISSIONS"."UNIT_ID" IS NULL AND ROWNUM <= :a3 [0m  [["internal_position_id", 1], ["permission_id", 117], ["LIMIT", 1]]
  â†³ app/models/internal_position.rb:8:in `has_permission?'
  [1m[36mCACHE InternalPosition Load (0.0ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPositionPermission Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "INTERNAL_POSITION_PERMISSIONS" WHERE "INTERNAL_POSITION_PERMISSIONS"."INTERNAL_POSITION_ID" = :a1 AND "INTERNAL_POSITION_PERMISSIONS"."PERMISSION_ID" IS NULL AND "INTERNAL_POSITION_PERMISSIONS"."UNIT_ID" IS NULL AND ROWNUM <= :a2 [0m  [["internal_position_id", 1], ["LIMIT", 1]]
  â†³ app/models/internal_position.rb:8:in `has_permission?'
  [1m[36mCACHE InternalPosition Load (0.1ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPositionPermission Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "INTERNAL_POSITION_PERMISSIONS" WHERE "INTERNAL_POSITION_PERMISSIONS"."INTERNAL_POSITION_ID" = :a1 AND "INTERNAL_POSITION_PERMISSIONS"."PERMISSION_ID" = :a2 AND "INTERNAL_POSITION_PERMISSIONS"."UNIT_ID" IS NULL AND ROWNUM <= :a3 [0m  [["internal_position_id", 1], ["permission_id", 1], ["LIMIT", 1]]
  â†³ app/models/internal_position.rb:8:in `has_permission?'
  [1m[36mInternalPosition Load (1.2ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:63:in `asignar_cargo'
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT "USERS".* FROM "USERS" WHERE "USERS"."EMAIL" = :a1 AND ROWNUM <= :a2 [0m  [["email", "chao@usach.cl"], ["LIMIT", 1]]
  â†³ app/models/user.rb:79:in `asignar_cargo'
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "USERS" WHERE "USERS"."EMAIL" = :a1 AND ROWNUM <= :a2 [0m  [["email", "chao@usach.cl"], ["LIMIT", 1]]
  â†³ app/models/user.rb:85:in `asignar_cargo'
  [1m[36mCACHE User Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "USERS" WHERE "USERS"."EMAIL" = :a1 AND ROWNUM <= :a2 [0m  [["email", "chao@usach.cl"], ["LIMIT", 1]]
  â†³ app/models/user.rb:85:in `asignar_cargo'
  [1m[36mnext sequence value (1.3ms)[0m  [1m[34mSELECT "USERS_SEQ".NEXTVAL FROM dual[0m
  â†³ app/models/user.rb:85:in `asignar_cargo'
  [1m[36mUser Create (1.6ms)[0m  [1m[32mINSERT INTO "USERS" ("EMAIL", "ENCRYPTED_PASSWORD", "FULL_NAME", "CREATED_AT", "UPDATED_AT", "RUT", "ID") VALUES (:a1, :a2, :a3, :a4, :a5, :a6, :a7)[0m  [["email", "chao@usach.cl"], ["encrypted_password", "$2a$12$xM8uIHWdHaOd.CTt6WECh.k7ApiHUF.18pK/aX1fS3DR8icEX0IAG"], ["full_name", "GGG"], ["created_at", "2022-11-08 20:32:34.385366"], ["updated_at", "2022-11-08 20:32:34.385366"], ["rut", "63684259-4"], ["id", 12]]
  â†³ app/models/user.rb:85:in `asignar_cargo'
  [1m[36mInternalPosition Load (0.9ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."NAME" = :a1 AND ROWNUM <= :a2 [0m  [["name", "USUARIONORMAL"], ["LIMIT", 1]]
  â†³ app/models/user.rb:87:in `asignar_cargo'
  [1m[36mUserInternalPosition Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "USER_INTERNAL_POSITIONS" WHERE "USER_INTERNAL_POSITIONS"."USER_ID" = :a1 AND "USER_INTERNAL_POSITIONS"."INTERNAL_POSITION_ID" = :a2 AND ROWNUM <= :a3 [0m  [["user_id", 12], ["internal_position_id", 3], ["LIMIT", 1]]
  â†³ app/models/user.rb:89:in `asignar_cargo'
  [1m[36mSequence (1.9ms)[0m  [1m[34mselect /*+ OPTIMIZER_FEATURES_ENABLE('11.2.0.2') */ us.sequence_name from all_sequences us where us.sequence_owner = 'ADMIN1' and us.sequence_name = upper('USER_INTERNAL_POSITIONS_seq')[0m
  â†³ app/models/user.rb:92:in `asignar_cargo'
  [1m[36mPrimary Key (5.8ms)[0m  [1m[34mSELECT /*+ OPTIMIZER_FEATURES_ENABLE('11.2.0.2') */ cc.column_name FROM all_constraints c, all_cons_columns cc WHERE c.owner = 'ADMIN1' AND c.table_name = 'USER_INTERNAL_POSITIONS' AND c.constraint_type = 'P' AND cc.owner = c.owner AND cc.constraint_name = c.constraint_name[0m
  â†³ app/models/user.rb:92:in `asignar_cargo'
  [1m[36mnext sequence value (3.0ms)[0m  [1m[34mSELECT "USER_INTERNAL_POSITIONS_SEQ".NEXTVAL FROM dual[0m
  â†³ app/models/user.rb:93:in `asignar_cargo'
  [1m[36mUserInternalPosition Create (1.1ms)[0m  [1m[32mINSERT INTO "USER_INTERNAL_POSITIONS" ("USER_ID", "INTERNAL_POSITION_ID", "CREATED_AT", "UPDATED_AT", "ID") VALUES (:a1, :a2, :a3, :a4, :a5)[0m  [["user_id", 12], ["internal_position_id", 3], ["created_at", "2022-11-08 20:32:35.609422"], ["updated_at", "2022-11-08 20:32:35.609422"], ["id", 12]]
  â†³ app/models/user.rb:93:in `asignar_cargo'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "USERS" WHERE "USERS"."EMAIL" = :a1 AND "USERS"."ID" != :a2 AND ROWNUM <= :a3 [0m  [["email", "chao@usach.cl"], ["id", 12], ["LIMIT", 1]]
  â†³ app/models/user.rb:95:in `asignar_cargo'
  [1m[36mUser Update (1.5ms)[0m  [1m[33mUPDATE "USERS" SET "UPDATED_AT" = :a1, "ACTIVE_PROFILE" = :a2 WHERE "USERS"."ID" = :a3[0m  [["updated_at", "2022-11-08 20:32:35.630940"], ["active_profile", 12], ["id", 12]]
  â†³ app/models/user.rb:95:in `asignar_cargo'
Completed 500 Internal Server Error in 1890ms (ActiveRecord: 37.7ms | Allocations: 25800)


  
NoMethodError (undefined method `id' for true:TrueClass):
  
app/controllers/users_controller.rb:68:in `block (2 levels) in asignar_cargo'
app/controllers/users_controller.rb:64:in `asignar_cargo'
Started GET "/users/newuser.json" for ::1 at 2022-11-08 17:32:42 -0300
Processing by UsersController#show as JSON
  Parameters: {"id"=>"newuser"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT * FROM (SELECT "USERS".* FROM "USERS" WHERE "USERS"."ID" = :a1 ORDER BY "USERS"."ID" ASC ) WHERE ROWNUM <= :a2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInternalPosition Load (0.8ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPosition Load (3.1ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."NAME" = :a1 AND ROWNUM <= :a2 [0m  [["name", "SUPERADMIN"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:13:in `authorize_action'
  [1m[36mPermission Load (1.5ms)[0m  [1m[34mSELECT * FROM (SELECT "PERMISSIONS".* FROM "PERMISSIONS" WHERE "PERMISSIONS"."SUBJECT_CLASS" = :a1 AND "PERMISSIONS"."ACTION" = :a2 ORDER BY "PERMISSIONS"."ID" ASC ) WHERE ROWNUM <= :a3[0m  [["subject_class", "User"], ["action", "show"], ["LIMIT", 1]]
  â†³ app/models/user.rb:100:in `has_permission?'
  [1m[36mPermission Load (1.2ms)[0m  [1m[34mSELECT * FROM (SELECT "PERMISSIONS".* FROM "PERMISSIONS" WHERE "PERMISSIONS"."SUBJECT_CLASS" = :a1 AND "PERMISSIONS"."ACTION" = :a2 ORDER BY "PERMISSIONS"."ID" ASC ) WHERE ROWNUM <= :a3[0m  [["subject_class", "User"], ["action", "manage"], ["LIMIT", 1]]
  â†³ app/models/user.rb:101:in `has_permission?'
  [1m[36mPermission Load (1.1ms)[0m  [1m[34mSELECT * FROM (SELECT "PERMISSIONS".* FROM "PERMISSIONS" WHERE "PERMISSIONS"."SUBJECT_CLASS" = :a1 AND "PERMISSIONS"."ACTION" = :a2 ORDER BY "PERMISSIONS"."ID" ASC ) WHERE ROWNUM <= :a3[0m  [["subject_class", "all"], ["action", "manage"], ["LIMIT", 1]]
  â†³ app/models/user.rb:102:in `has_permission?'
  [1m[36mCACHE InternalPosition Load (0.1ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPositionPermission Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "INTERNAL_POSITION_PERMISSIONS" WHERE "INTERNAL_POSITION_PERMISSIONS"."INTERNAL_POSITION_ID" = :a1 AND "INTERNAL_POSITION_PERMISSIONS"."PERMISSION_ID" = :a2 AND "INTERNAL_POSITION_PERMISSIONS"."UNIT_ID" IS NULL AND ROWNUM <= :a3 [0m  [["internal_position_id", 1], ["permission_id", 117], ["LIMIT", 1]]
  â†³ app/models/internal_position.rb:8:in `has_permission?'
  [1m[36mCACHE InternalPosition Load (0.0ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPositionPermission Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "INTERNAL_POSITION_PERMISSIONS" WHERE "INTERNAL_POSITION_PERMISSIONS"."INTERNAL_POSITION_ID" = :a1 AND "INTERNAL_POSITION_PERMISSIONS"."PERMISSION_ID" = :a2 AND "INTERNAL_POSITION_PERMISSIONS"."UNIT_ID" IS NULL AND ROWNUM <= :a3 [0m  [["internal_position_id", 1], ["permission_id", 118], ["LIMIT", 1]]
  â†³ app/models/internal_position.rb:8:in `has_permission?'
  [1m[36mCACHE InternalPosition Load (0.1ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPositionPermission Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "INTERNAL_POSITION_PERMISSIONS" WHERE "INTERNAL_POSITION_PERMISSIONS"."INTERNAL_POSITION_ID" = :a1 AND "INTERNAL_POSITION_PERMISSIONS"."PERMISSION_ID" = :a2 AND "INTERNAL_POSITION_PERMISSIONS"."UNIT_ID" IS NULL AND ROWNUM <= :a3 [0m  [["internal_position_id", 1], ["permission_id", 1], ["LIMIT", 1]]
  â†³ app/models/internal_position.rb:8:in `has_permission?'
  Rendering users/show.json.jbuilder
  Rendered users/_user.json.jbuilder (Duration: 5.3ms | Allocations: 1746)
  Rendered users/show.json.jbuilder (Duration: 8.2ms | Allocations: 1990)
Completed 500 Internal Server Error in 63ms (ActiveRecord: 11.1ms | Allocations: 11407)


  
ActionView::Template::Error (undefined method `id' for nil:NilClass):
    1: json.extract! user, :id, :email, :full_name, :rut, :created_at, :updated_at
    2: json.url users_url(user, format: :json)
  
app/views/users/_user.json.jbuilder:1
app/views/users/show.json.jbuilder:1
Started GET "/users" for ::1 at 2022-11-08 17:38:09 -0300
Processing by UsersController#index as HTML
  [1m[36mtables (390.6ms)[0m  [1m[34mSELECT /*+ OPTIMIZER_FEATURES_ENABLE('11.2.0.2') */ DECODE(table_name, UPPER(table_name), LOWER(table_name), table_name) FROM all_tables WHERE owner = SYS_CONTEXT('userenv', 'current_schema') AND secondary = 'N' minus SELECT DECODE(mview_name, UPPER(mview_name), LOWER(mview_name), mview_name) FROM all_mviews WHERE owner = SYS_CONTEXT('userenv', 'current_schema')[0m
  [1m[36mviews (3.7ms)[0m  [1m[34mSELECT /*+ OPTIMIZER_FEATURES_ENABLE('11.2.0.2') */ LOWER(view_name) FROM all_views WHERE owner = SYS_CONTEXT('userenv', 'current_schema')[0m
  [1m[36msynonyms (584.4ms)[0m  [1m[34mSELECT synonym_name, table_owner, table_name FROM all_synonyms where owner = SYS_CONTEXT('userenv', 'current_schema')[0m
  [1m[36mSequence (1.7ms)[0m  [1m[34mselect /*+ OPTIMIZER_FEATURES_ENABLE('11.2.0.2') */ us.sequence_name from all_sequences us where us.sequence_owner = 'ADMIN1' and us.sequence_name = upper('USERS_seq')[0m
  [1m[36mPrimary Key (5.8ms)[0m  [1m[34mSELECT /*+ OPTIMIZER_FEATURES_ENABLE('11.2.0.2') */ cc.column_name FROM all_constraints c, all_cons_columns cc WHERE c.owner = 'ADMIN1' AND c.table_name = 'USERS' AND c.constraint_type = 'P' AND cc.owner = c.owner AND cc.constraint_name = c.constraint_name[0m
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT * FROM (SELECT "USERS".* FROM "USERS" WHERE "USERS"."ID" = :a1 ORDER BY "USERS"."ID" ASC ) WHERE ROWNUM <= :a2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSequence (1.8ms)[0m  [1m[34mselect /*+ OPTIMIZER_FEATURES_ENABLE('11.2.0.2') */ us.sequence_name from all_sequences us where us.sequence_owner = 'ADMIN1' and us.sequence_name = upper('INTERNAL_POSITIONS_seq')[0m
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mPrimary Key (5.0ms)[0m  [1m[34mSELECT /*+ OPTIMIZER_FEATURES_ENABLE('11.2.0.2') */ cc.column_name FROM all_constraints c, all_cons_columns cc WHERE c.owner = 'ADMIN1' AND c.table_name = 'INTERNAL_POSITIONS' AND c.constraint_type = 'P' AND cc.owner = c.owner AND cc.constraint_name = c.constraint_name[0m
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPosition Load (1.8ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPosition Load (3.7ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."NAME" = :a1 AND ROWNUM <= :a2 [0m  [["name", "SUPERADMIN"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:13:in `authorize_action'
  [1m[36mSequence (1.6ms)[0m  [1m[34mselect /*+ OPTIMIZER_FEATURES_ENABLE('11.2.0.2') */ us.sequence_name from all_sequences us where us.sequence_owner = 'ADMIN1' and us.sequence_name = upper('PERMISSIONS_seq')[0m
  â†³ app/models/user.rb:100:in `has_permission?'
  [1m[36mPrimary Key (6.4ms)[0m  [1m[34mSELECT /*+ OPTIMIZER_FEATURES_ENABLE('11.2.0.2') */ cc.column_name FROM all_constraints c, all_cons_columns cc WHERE c.owner = 'ADMIN1' AND c.table_name = 'PERMISSIONS' AND c.constraint_type = 'P' AND cc.owner = c.owner AND cc.constraint_name = c.constraint_name[0m
  â†³ app/models/user.rb:100:in `has_permission?'
  [1m[36mPermission Load (2.8ms)[0m  [1m[34mSELECT * FROM (SELECT "PERMISSIONS".* FROM "PERMISSIONS" WHERE "PERMISSIONS"."SUBJECT_CLASS" = :a1 AND "PERMISSIONS"."ACTION" = :a2 ORDER BY "PERMISSIONS"."ID" ASC ) WHERE ROWNUM <= :a3[0m  [["subject_class", "User"], ["action", "index"], ["LIMIT", 1]]
  â†³ app/models/user.rb:100:in `has_permission?'
  [1m[36mPermission Load (1.9ms)[0m  [1m[34mSELECT * FROM (SELECT "PERMISSIONS".* FROM "PERMISSIONS" WHERE "PERMISSIONS"."SUBJECT_CLASS" = :a1 AND "PERMISSIONS"."ACTION" = :a2 ORDER BY "PERMISSIONS"."ID" ASC ) WHERE ROWNUM <= :a3[0m  [["subject_class", "User"], ["action", "manage"], ["LIMIT", 1]]
  â†³ app/models/user.rb:101:in `has_permission?'
  [1m[36mPermission Load (2.1ms)[0m  [1m[34mSELECT * FROM (SELECT "PERMISSIONS".* FROM "PERMISSIONS" WHERE "PERMISSIONS"."SUBJECT_CLASS" = :a1 AND "PERMISSIONS"."ACTION" = :a2 ORDER BY "PERMISSIONS"."ID" ASC ) WHERE ROWNUM <= :a3[0m  [["subject_class", "all"], ["action", "manage"], ["LIMIT", 1]]
  â†³ app/models/user.rb:102:in `has_permission?'
  [1m[36mCACHE InternalPosition Load (0.0ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPositionPermission Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "INTERNAL_POSITION_PERMISSIONS" WHERE "INTERNAL_POSITION_PERMISSIONS"."INTERNAL_POSITION_ID" = :a1 AND "INTERNAL_POSITION_PERMISSIONS"."PERMISSION_ID" = :a2 AND "INTERNAL_POSITION_PERMISSIONS"."UNIT_ID" IS NULL AND ROWNUM <= :a3 [0m  [["internal_position_id", 1], ["permission_id", 117], ["LIMIT", 1]]
  â†³ app/models/internal_position.rb:8:in `has_permission?'
  [1m[36mCACHE InternalPosition Load (0.1ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPositionPermission Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "INTERNAL_POSITION_PERMISSIONS" WHERE "INTERNAL_POSITION_PERMISSIONS"."INTERNAL_POSITION_ID" = :a1 AND "INTERNAL_POSITION_PERMISSIONS"."PERMISSION_ID" = :a2 AND "INTERNAL_POSITION_PERMISSIONS"."UNIT_ID" IS NULL AND ROWNUM <= :a3 [0m  [["internal_position_id", 1], ["permission_id", 122], ["LIMIT", 1]]
  â†³ app/models/internal_position.rb:8:in `has_permission?'
  [1m[36mCACHE InternalPosition Load (0.1ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPositionPermission Exists? (5.2ms)[0m  [1m[34mSELECT 1 AS one FROM "INTERNAL_POSITION_PERMISSIONS" WHERE "INTERNAL_POSITION_PERMISSIONS"."INTERNAL_POSITION_ID" = :a1 AND "INTERNAL_POSITION_PERMISSIONS"."PERMISSION_ID" = :a2 AND "INTERNAL_POSITION_PERMISSIONS"."UNIT_ID" IS NULL AND ROWNUM <= :a3 [0m  [["internal_position_id", 1], ["permission_id", 1], ["LIMIT", 1]]
  â†³ app/models/internal_position.rb:8:in `has_permission?'
  Rendering users/index.html.erb within layouts/application
  Rendered users/index.html.erb within layouts/application (Duration: 0.1ms | Allocations: 4)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mInternalPosition Load (2.6ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" INNER JOIN "USER_INTERNAL_POSITIONS" ON "INTERNAL_POSITIONS"."ID" = "USER_INTERNAL_POSITIONS"."INTERNAL_POSITION_ID" WHERE "USER_INTERNAL_POSITIONS"."USER_ID" = :a1[0m  [["user_id", 1]]
  â†³ app/views/partials/_navigation.erb:7
  [1m[36mCACHE InternalPosition Load (0.1ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  Rendered partials/_navigation.erb (Duration: 31.6ms | Allocations: 5539)
Completed 200 OK in 4855ms (Views: 54.7ms | ActiveRecord: 1025.2ms | Allocations: 49052)


Started GET "/users.json" for ::1 at 2022-11-08 17:38:16 -0300
Processing by UsersController#index as JSON
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT * FROM (SELECT "USERS".* FROM "USERS" WHERE "USERS"."ID" = :a1 ORDER BY "USERS"."ID" ASC ) WHERE ROWNUM <= :a2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInternalPosition Load (1.5ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPosition Load (1.9ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."NAME" = :a1 AND ROWNUM <= :a2 [0m  [["name", "SUPERADMIN"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:13:in `authorize_action'
  [1m[36mPermission Load (2.3ms)[0m  [1m[34mSELECT * FROM (SELECT "PERMISSIONS".* FROM "PERMISSIONS" WHERE "PERMISSIONS"."SUBJECT_CLASS" = :a1 AND "PERMISSIONS"."ACTION" = :a2 ORDER BY "PERMISSIONS"."ID" ASC ) WHERE ROWNUM <= :a3[0m  [["subject_class", "User"], ["action", "index"], ["LIMIT", 1]]
  â†³ app/models/user.rb:100:in `has_permission?'
  [1m[36mPermission Load (2.0ms)[0m  [1m[34mSELECT * FROM (SELECT "PERMISSIONS".* FROM "PERMISSIONS" WHERE "PERMISSIONS"."SUBJECT_CLASS" = :a1 AND "PERMISSIONS"."ACTION" = :a2 ORDER BY "PERMISSIONS"."ID" ASC ) WHERE ROWNUM <= :a3[0m  [["subject_class", "User"], ["action", "manage"], ["LIMIT", 1]]
  â†³ app/models/user.rb:101:in `has_permission?'
  [1m[36mPermission Load (1.7ms)[0m  [1m[34mSELECT * FROM (SELECT "PERMISSIONS".* FROM "PERMISSIONS" WHERE "PERMISSIONS"."SUBJECT_CLASS" = :a1 AND "PERMISSIONS"."ACTION" = :a2 ORDER BY "PERMISSIONS"."ID" ASC ) WHERE ROWNUM <= :a3[0m  [["subject_class", "all"], ["action", "manage"], ["LIMIT", 1]]
  â†³ app/models/user.rb:102:in `has_permission?'
  [1m[36mCACHE InternalPosition Load (0.0ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPositionPermission Exists? (2.5ms)[0m  [1m[34mSELECT 1 AS one FROM "INTERNAL_POSITION_PERMISSIONS" WHERE "INTERNAL_POSITION_PERMISSIONS"."INTERNAL_POSITION_ID" = :a1 AND "INTERNAL_POSITION_PERMISSIONS"."PERMISSION_ID" = :a2 AND "INTERNAL_POSITION_PERMISSIONS"."UNIT_ID" IS NULL AND ROWNUM <= :a3 [0m  [["internal_position_id", 1], ["permission_id", 117], ["LIMIT", 1]]
  â†³ app/models/internal_position.rb:8:in `has_permission?'
  [1m[36mCACHE InternalPosition Load (0.1ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPositionPermission Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "INTERNAL_POSITION_PERMISSIONS" WHERE "INTERNAL_POSITION_PERMISSIONS"."INTERNAL_POSITION_ID" = :a1 AND "INTERNAL_POSITION_PERMISSIONS"."PERMISSION_ID" = :a2 AND "INTERNAL_POSITION_PERMISSIONS"."UNIT_ID" IS NULL AND ROWNUM <= :a3 [0m  [["internal_position_id", 1], ["permission_id", 122], ["LIMIT", 1]]
  â†³ app/models/internal_position.rb:8:in `has_permission?'
  [1m[36mCACHE InternalPosition Load (0.0ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPositionPermission Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "INTERNAL_POSITION_PERMISSIONS" WHERE "INTERNAL_POSITION_PERMISSIONS"."INTERNAL_POSITION_ID" = :a1 AND "INTERNAL_POSITION_PERMISSIONS"."PERMISSION_ID" = :a2 AND "INTERNAL_POSITION_PERMISSIONS"."UNIT_ID" IS NULL AND ROWNUM <= :a3 [0m  [["internal_position_id", 1], ["permission_id", 1], ["LIMIT", 1]]
  â†³ app/models/internal_position.rb:8:in `has_permission?'
  Rendering users/index.json.jbuilder
  [1m[36mUser Load (5.3ms)[0m  [1m[34mSELECT "USERS".* FROM "USERS"[0m
  â†³ app/views/users/index.json.jbuilder:1
  Rendered users/_user.json.jbuilder (Duration: 0.9ms | Allocations: 96)
  Rendered users/_user.json.jbuilder (Duration: 0.6ms | Allocations: 79)
  Rendered users/_user.json.jbuilder (Duration: 1.0ms | Allocations: 79)
  Rendered users/_user.json.jbuilder (Duration: 0.6ms | Allocations: 80)
  Rendered users/_user.json.jbuilder (Duration: 0.7ms | Allocations: 79)
  Rendered users/_user.json.jbuilder (Duration: 0.6ms | Allocations: 79)
  Rendered users/_user.json.jbuilder (Duration: 0.6ms | Allocations: 79)
  Rendered users/_user.json.jbuilder (Duration: 0.8ms | Allocations: 79)
  Rendered users/_user.json.jbuilder (Duration: 0.6ms | Allocations: 79)
  Rendered users/_user.json.jbuilder (Duration: 0.7ms | Allocations: 79)
  Rendered users/_user.json.jbuilder (Duration: 0.7ms | Allocations: 79)
  Rendered users/index.json.jbuilder (Duration: 27.5ms | Allocations: 4206)
Completed 200 OK in 107ms (Views: 24.0ms | ActiveRecord: 22.3ms | Allocations: 13515)


Started GET "/internal_positions.json" for ::1 at 2022-11-08 17:38:21 -0300
Processing by InternalPositionsController#index as JSON
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT * FROM (SELECT "USERS".* FROM "USERS" WHERE "USERS"."ID" = :a1 ORDER BY "USERS"."ID" ASC ) WHERE ROWNUM <= :a2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInternalPosition Load (1.3ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPosition Load (1.3ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."NAME" = :a1 AND ROWNUM <= :a2 [0m  [["name", "SUPERADMIN"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:13:in `authorize_action'
  [1m[36mPermission Load (2.4ms)[0m  [1m[34mSELECT * FROM (SELECT "PERMISSIONS".* FROM "PERMISSIONS" WHERE "PERMISSIONS"."SUBJECT_CLASS" = :a1 AND "PERMISSIONS"."ACTION" = :a2 ORDER BY "PERMISSIONS"."ID" ASC ) WHERE ROWNUM <= :a3[0m  [["subject_class", "InternalPosition"], ["action", "index"], ["LIMIT", 1]]
  â†³ app/models/user.rb:100:in `has_permission?'
  [1m[36mPermission Load (1.9ms)[0m  [1m[34mSELECT * FROM (SELECT "PERMISSIONS".* FROM "PERMISSIONS" WHERE "PERMISSIONS"."SUBJECT_CLASS" = :a1 AND "PERMISSIONS"."ACTION" = :a2 ORDER BY "PERMISSIONS"."ID" ASC ) WHERE ROWNUM <= :a3[0m  [["subject_class", "InternalPosition"], ["action", "manage"], ["LIMIT", 1]]
  â†³ app/models/user.rb:101:in `has_permission?'
  [1m[36mPermission Load (1.6ms)[0m  [1m[34mSELECT * FROM (SELECT "PERMISSIONS".* FROM "PERMISSIONS" WHERE "PERMISSIONS"."SUBJECT_CLASS" = :a1 AND "PERMISSIONS"."ACTION" = :a2 ORDER BY "PERMISSIONS"."ID" ASC ) WHERE ROWNUM <= :a3[0m  [["subject_class", "all"], ["action", "manage"], ["LIMIT", 1]]
  â†³ app/models/user.rb:102:in `has_permission?'
  [1m[36mCACHE InternalPosition Load (0.0ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPositionPermission Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "INTERNAL_POSITION_PERMISSIONS" WHERE "INTERNAL_POSITION_PERMISSIONS"."INTERNAL_POSITION_ID" = :a1 AND "INTERNAL_POSITION_PERMISSIONS"."PERMISSION_ID" = :a2 AND "INTERNAL_POSITION_PERMISSIONS"."UNIT_ID" IS NULL AND ROWNUM <= :a3 [0m  [["internal_position_id", 1], ["permission_id", 103], ["LIMIT", 1]]
  â†³ app/models/internal_position.rb:8:in `has_permission?'
  [1m[36mCACHE InternalPosition Load (0.1ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPositionPermission Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "INTERNAL_POSITION_PERMISSIONS" WHERE "INTERNAL_POSITION_PERMISSIONS"."INTERNAL_POSITION_ID" = :a1 AND "INTERNAL_POSITION_PERMISSIONS"."PERMISSION_ID" = :a2 AND "INTERNAL_POSITION_PERMISSIONS"."UNIT_ID" IS NULL AND ROWNUM <= :a3 [0m  [["internal_position_id", 1], ["permission_id", 108], ["LIMIT", 1]]
  â†³ app/models/internal_position.rb:8:in `has_permission?'
  [1m[36mCACHE InternalPosition Load (0.1ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPositionPermission Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "INTERNAL_POSITION_PERMISSIONS" WHERE "INTERNAL_POSITION_PERMISSIONS"."INTERNAL_POSITION_ID" = :a1 AND "INTERNAL_POSITION_PERMISSIONS"."PERMISSION_ID" = :a2 AND "INTERNAL_POSITION_PERMISSIONS"."UNIT_ID" IS NULL AND ROWNUM <= :a3 [0m  [["internal_position_id", 1], ["permission_id", 1], ["LIMIT", 1]]
  â†³ app/models/internal_position.rb:8:in `has_permission?'
  Rendering internal_positions/index.json.jbuilder
  [1m[36mInternalPosition Load (2.7ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS"[0m
  â†³ app/views/internal_positions/index.json.jbuilder:1
  Rendered internal_positions/_internal_position.json.jbuilder (Duration: 1.2ms | Allocations: 95)
  Rendered internal_positions/_internal_position.json.jbuilder (Duration: 1.0ms | Allocations: 80)
  Rendered internal_positions/_internal_position.json.jbuilder (Duration: 1.0ms | Allocations: 80)
  Rendered internal_positions/index.json.jbuilder (Duration: 14.0ms | Allocations: 1614)
Completed 200 OK in 83ms (Views: 14.6ms | ActiveRecord: 17.3ms | Allocations: 11193)


Started POST "/users/newuser.json" for ::1 at 2022-11-08 17:38:44 -0300
Processing by UsersController#asignar_cargo as JSON
  Parameters: {"full_name"=>"TTTT", "rut"=>"58275937-6", "email"=>"TTT@usach.cl", "internal_position_id"=>3, "user"=>{"email"=>"TTT@usach.cl", "full_name"=>"TTTT", "rut"=>"58275937-6"}}
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT * FROM (SELECT "USERS".* FROM "USERS" WHERE "USERS"."ID" = :a1 ORDER BY "USERS"."ID" ASC ) WHERE ROWNUM <= :a2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInternalPosition Load (1.4ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPosition Load (3.0ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."NAME" = :a1 AND ROWNUM <= :a2 [0m  [["name", "SUPERADMIN"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:13:in `authorize_action'
  [1m[36mPermission Load (1.2ms)[0m  [1m[34mSELECT * FROM (SELECT "PERMISSIONS".* FROM "PERMISSIONS" WHERE "PERMISSIONS"."SUBJECT_CLASS" = :a1 AND "PERMISSIONS"."ACTION" = :a2 ORDER BY "PERMISSIONS"."ID" ASC ) WHERE ROWNUM <= :a3[0m  [["subject_class", "User"], ["action", "asignar_cargo"], ["LIMIT", 1]]
  â†³ app/models/user.rb:100:in `has_permission?'
  [1m[36mPermission Load (1.8ms)[0m  [1m[34mSELECT * FROM (SELECT "PERMISSIONS".* FROM "PERMISSIONS" WHERE "PERMISSIONS"."SUBJECT_CLASS" = :a1 AND "PERMISSIONS"."ACTION" = :a2 ORDER BY "PERMISSIONS"."ID" ASC ) WHERE ROWNUM <= :a3[0m  [["subject_class", "User"], ["action", "manage"], ["LIMIT", 1]]
  â†³ app/models/user.rb:101:in `has_permission?'
  [1m[36mPermission Load (1.6ms)[0m  [1m[34mSELECT * FROM (SELECT "PERMISSIONS".* FROM "PERMISSIONS" WHERE "PERMISSIONS"."SUBJECT_CLASS" = :a1 AND "PERMISSIONS"."ACTION" = :a2 ORDER BY "PERMISSIONS"."ID" ASC ) WHERE ROWNUM <= :a3[0m  [["subject_class", "all"], ["action", "manage"], ["LIMIT", 1]]
  â†³ app/models/user.rb:102:in `has_permission?'
  [1m[36mCACHE InternalPosition Load (0.0ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPositionPermission Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "INTERNAL_POSITION_PERMISSIONS" WHERE "INTERNAL_POSITION_PERMISSIONS"."INTERNAL_POSITION_ID" = :a1 AND "INTERNAL_POSITION_PERMISSIONS"."PERMISSION_ID" = :a2 AND "INTERNAL_POSITION_PERMISSIONS"."UNIT_ID" IS NULL AND ROWNUM <= :a3 [0m  [["internal_position_id", 1], ["permission_id", 117], ["LIMIT", 1]]
  â†³ app/models/internal_position.rb:8:in `has_permission?'
  [1m[36mCACHE InternalPosition Load (0.0ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPositionPermission Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "INTERNAL_POSITION_PERMISSIONS" WHERE "INTERNAL_POSITION_PERMISSIONS"."INTERNAL_POSITION_ID" = :a1 AND "INTERNAL_POSITION_PERMISSIONS"."PERMISSION_ID" IS NULL AND "INTERNAL_POSITION_PERMISSIONS"."UNIT_ID" IS NULL AND ROWNUM <= :a2 [0m  [["internal_position_id", 1], ["LIMIT", 1]]
  â†³ app/models/internal_position.rb:8:in `has_permission?'
  [1m[36mCACHE InternalPosition Load (0.1ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPositionPermission Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "INTERNAL_POSITION_PERMISSIONS" WHERE "INTERNAL_POSITION_PERMISSIONS"."INTERNAL_POSITION_ID" = :a1 AND "INTERNAL_POSITION_PERMISSIONS"."PERMISSION_ID" = :a2 AND "INTERNAL_POSITION_PERMISSIONS"."UNIT_ID" IS NULL AND ROWNUM <= :a3 [0m  [["internal_position_id", 1], ["permission_id", 1], ["LIMIT", 1]]
  â†³ app/models/internal_position.rb:8:in `has_permission?'
  [1m[36mInternalPosition Load (2.6ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:63:in `asignar_cargo'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "USERS".* FROM "USERS" WHERE "USERS"."EMAIL" = :a1 AND ROWNUM <= :a2 [0m  [["email", "TTT@usach.cl"], ["LIMIT", 1]]
  â†³ app/models/user.rb:79:in `asignar_cargo'
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "USERS" WHERE "USERS"."EMAIL" = :a1 AND ROWNUM <= :a2 [0m  [["email", "ttt@usach.cl"], ["LIMIT", 1]]
  â†³ app/models/user.rb:85:in `asignar_cargo'
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "USERS" WHERE "USERS"."EMAIL" = :a1 AND ROWNUM <= :a2 [0m  [["email", "ttt@usach.cl"], ["LIMIT", 1]]
  â†³ app/models/user.rb:85:in `asignar_cargo'
  [1m[36mnext sequence value (2.6ms)[0m  [1m[34mSELECT "USERS_SEQ".NEXTVAL FROM dual[0m
  â†³ app/models/user.rb:85:in `asignar_cargo'
  [1m[36mUser Create (2.0ms)[0m  [1m[32mINSERT INTO "USERS" ("EMAIL", "ENCRYPTED_PASSWORD", "FULL_NAME", "CREATED_AT", "UPDATED_AT", "RUT", "ID") VALUES (:a1, :a2, :a3, :a4, :a5, :a6, :a7)[0m  [["email", "ttt@usach.cl"], ["encrypted_password", "$2a$12$hn4xmwfwduAqC88fO7AnmOuNc7zP4H8ohTFPkDujpPzDSpl7Y8Alq"], ["full_name", "TTTT"], ["created_at", "2022-11-08 20:38:44.693554"], ["updated_at", "2022-11-08 20:38:44.693554"], ["rut", "58275937-6"], ["id", 13]]
  â†³ app/models/user.rb:85:in `asignar_cargo'
  [1m[36mInternalPosition Load (2.2ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."NAME" = :a1 AND ROWNUM <= :a2 [0m  [["name", "USUARIONORMAL"], ["LIMIT", 1]]
  â†³ app/models/user.rb:87:in `asignar_cargo'
  [1m[36mUserInternalPosition Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "USER_INTERNAL_POSITIONS" WHERE "USER_INTERNAL_POSITIONS"."USER_ID" = :a1 AND "USER_INTERNAL_POSITIONS"."INTERNAL_POSITION_ID" = :a2 AND ROWNUM <= :a3 [0m  [["user_id", 13], ["internal_position_id", 3], ["LIMIT", 1]]
  â†³ app/models/user.rb:89:in `asignar_cargo'
  [1m[36mSequence (1.6ms)[0m  [1m[34mselect /*+ OPTIMIZER_FEATURES_ENABLE('11.2.0.2') */ us.sequence_name from all_sequences us where us.sequence_owner = 'ADMIN1' and us.sequence_name = upper('USER_INTERNAL_POSITIONS_seq')[0m
  â†³ app/models/user.rb:92:in `asignar_cargo'
  [1m[36mPrimary Key (6.5ms)[0m  [1m[34mSELECT /*+ OPTIMIZER_FEATURES_ENABLE('11.2.0.2') */ cc.column_name FROM all_constraints c, all_cons_columns cc WHERE c.owner = 'ADMIN1' AND c.table_name = 'USER_INTERNAL_POSITIONS' AND c.constraint_type = 'P' AND cc.owner = c.owner AND cc.constraint_name = c.constraint_name[0m
  â†³ app/models/user.rb:92:in `asignar_cargo'
  [1m[36mnext sequence value (1.9ms)[0m  [1m[34mSELECT "USER_INTERNAL_POSITIONS_SEQ".NEXTVAL FROM dual[0m
  â†³ app/models/user.rb:93:in `asignar_cargo'
  [1m[36mUserInternalPosition Create (1.4ms)[0m  [1m[32mINSERT INTO "USER_INTERNAL_POSITIONS" ("USER_ID", "INTERNAL_POSITION_ID", "CREATED_AT", "UPDATED_AT", "ID") VALUES (:a1, :a2, :a3, :a4, :a5)[0m  [["user_id", 13], ["internal_position_id", 3], ["created_at", "2022-11-08 20:38:45.902892"], ["updated_at", "2022-11-08 20:38:45.902892"], ["id", 13]]
  â†³ app/models/user.rb:93:in `asignar_cargo'
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "USERS" WHERE "USERS"."EMAIL" = :a1 AND "USERS"."ID" != :a2 AND ROWNUM <= :a3 [0m  [["email", "ttt@usach.cl"], ["id", 13], ["LIMIT", 1]]
  â†³ app/models/user.rb:95:in `asignar_cargo'
  [1m[36mUser Update (1.5ms)[0m  [1m[33mUPDATE "USERS" SET "UPDATED_AT" = :a1, "ACTIVE_PROFILE" = :a2 WHERE "USERS"."ID" = :a3[0m  [["updated_at", "2022-11-08 20:38:45.925104"], ["active_profile", 13], ["id", 13]]
  â†³ app/models/user.rb:95:in `asignar_cargo'
Completed 500 Internal Server Error in 1864ms (ActiveRecord: 41.0ms | Allocations: 25800)


  
NoMethodError (undefined method `id' for true:TrueClass):
  
app/controllers/users_controller.rb:68:in `block (2 levels) in asignar_cargo'
app/controllers/users_controller.rb:64:in `asignar_cargo'
Started GET "/users/newuser.json" for ::1 at 2022-11-08 17:38:49 -0300
Processing by UsersController#show as JSON
  Parameters: {"id"=>"newuser"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT * FROM (SELECT "USERS".* FROM "USERS" WHERE "USERS"."ID" = :a1 ORDER BY "USERS"."ID" ASC ) WHERE ROWNUM <= :a2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mInternalPosition Load (0.7ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPosition Load (1.3ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."NAME" = :a1 AND ROWNUM <= :a2 [0m  [["name", "SUPERADMIN"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:13:in `authorize_action'
  [1m[36mPermission Load (2.1ms)[0m  [1m[34mSELECT * FROM (SELECT "PERMISSIONS".* FROM "PERMISSIONS" WHERE "PERMISSIONS"."SUBJECT_CLASS" = :a1 AND "PERMISSIONS"."ACTION" = :a2 ORDER BY "PERMISSIONS"."ID" ASC ) WHERE ROWNUM <= :a3[0m  [["subject_class", "User"], ["action", "show"], ["LIMIT", 1]]
  â†³ app/models/user.rb:100:in `has_permission?'
  [1m[36mPermission Load (1.8ms)[0m  [1m[34mSELECT * FROM (SELECT "PERMISSIONS".* FROM "PERMISSIONS" WHERE "PERMISSIONS"."SUBJECT_CLASS" = :a1 AND "PERMISSIONS"."ACTION" = :a2 ORDER BY "PERMISSIONS"."ID" ASC ) WHERE ROWNUM <= :a3[0m  [["subject_class", "User"], ["action", "manage"], ["LIMIT", 1]]
  â†³ app/models/user.rb:101:in `has_permission?'
  [1m[36mPermission Load (1.6ms)[0m  [1m[34mSELECT * FROM (SELECT "PERMISSIONS".* FROM "PERMISSIONS" WHERE "PERMISSIONS"."SUBJECT_CLASS" = :a1 AND "PERMISSIONS"."ACTION" = :a2 ORDER BY "PERMISSIONS"."ID" ASC ) WHERE ROWNUM <= :a3[0m  [["subject_class", "all"], ["action", "manage"], ["LIMIT", 1]]
  â†³ app/models/user.rb:102:in `has_permission?'
  [1m[36mCACHE InternalPosition Load (0.0ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPositionPermission Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "INTERNAL_POSITION_PERMISSIONS" WHERE "INTERNAL_POSITION_PERMISSIONS"."INTERNAL_POSITION_ID" = :a1 AND "INTERNAL_POSITION_PERMISSIONS"."PERMISSION_ID" = :a2 AND "INTERNAL_POSITION_PERMISSIONS"."UNIT_ID" IS NULL AND ROWNUM <= :a3 [0m  [["internal_position_id", 1], ["permission_id", 117], ["LIMIT", 1]]
  â†³ app/models/internal_position.rb:8:in `has_permission?'
  [1m[36mCACHE InternalPosition Load (0.0ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPositionPermission Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "INTERNAL_POSITION_PERMISSIONS" WHERE "INTERNAL_POSITION_PERMISSIONS"."INTERNAL_POSITION_ID" = :a1 AND "INTERNAL_POSITION_PERMISSIONS"."PERMISSION_ID" = :a2 AND "INTERNAL_POSITION_PERMISSIONS"."UNIT_ID" IS NULL AND ROWNUM <= :a3 [0m  [["internal_position_id", 1], ["permission_id", 118], ["LIMIT", 1]]
  â†³ app/models/internal_position.rb:8:in `has_permission?'
  [1m[36mCACHE InternalPosition Load (0.0ms)[0m  [1m[34mSELECT "INTERNAL_POSITIONS".* FROM "INTERNAL_POSITIONS" WHERE "INTERNAL_POSITIONS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:64:in `cargo_principal'
  [1m[36mInternalPositionPermission Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "INTERNAL_POSITION_PERMISSIONS" WHERE "INTERNAL_POSITION_PERMISSIONS"."INTERNAL_POSITION_ID" = :a1 AND "INTERNAL_POSITION_PERMISSIONS"."PERMISSION_ID" = :a2 AND "INTERNAL_POSITION_PERMISSIONS"."UNIT_ID" IS NULL AND ROWNUM <= :a3 [0m  [["internal_position_id", 1], ["permission_id", 1], ["LIMIT", 1]]
  â†³ app/models/internal_position.rb:8:in `has_permission?'
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "USERS".* FROM "USERS" WHERE "USERS"."ID" = :a1 AND ROWNUM <= :a2 [0m  [["id", nil], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:84:in `set_user'
Completed 404 Not Found in 93ms (ActiveRecord: 14.3ms | Allocations: 10124)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=newuser):
  
app/controllers/users_controller.rb:84:in `set_user'
